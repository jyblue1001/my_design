v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 2030 -390 2030 -190 {lab=GNDA}
N 2030 -1240 2030 -1080 {
lab=VDDA}
N 2030 -1050 2070 -1050 {lab=VDDA}
N 2070 -1120 2070 -1050 {lab=VDDA}
N 2030 -1120 2070 -1120 {lab=VDDA}
N 2030 -1020 2030 -450 {lab=ERR_AMP_REF}
N 1760 -1120 1760 -1050 {lab=V_TOP}
N 1760 -1240 1760 -1180 {lab=VDDA}
N 1850 -1240 2030 -1240 {lab=VDDA}
N 1060 -190 1440 -190 {
lab=GNDA}
N 1020 -270 1020 -190 {
lab=GNDA}
N 1400 -270 1400 -190 {
lab=GNDA}
N 1020 -190 1060 -190 {
lab=GNDA}
N 1100 -1130 1240 -1130 {
lab=V_TOP}
N 1240 -1130 1400 -1130 {
lab=V_TOP}
N 1060 -1240 1060 -1160 {
lab=VDDA}
N 1060 -1240 1440 -1240 {
lab=VDDA}
N 1440 -1240 1440 -1160 {
lab=VDDA}
N 1440 -390 1440 -300 {lab=Vbe2}
N 1700 -390 1700 -190 {lab=GNDA}
N 820 -390 820 -190 {lab=GNDA}
N 1440 -1130 1480 -1130 {lab=VDDA}
N 1480 -1200 1480 -1130 {lab=VDDA}
N 1440 -1200 1480 -1200 {lab=VDDA}
N 1020 -1130 1060 -1130 {lab=VDDA}
N 1020 -1200 1020 -1130 {lab=VDDA}
N 1020 -1200 1060 -1200 {lab=VDDA}
N 820 -190 1020 -190 {lab=GNDA}
N 1440 -240 1440 -190 {lab=GNDA}
N 1060 -240 1060 -190 {lab=GNDA}
N 510 -1130 510 -1050 {lab=V_TOP}
N 260 -990 260 -860 {lab=START_UP}
N 260 -1240 260 -1160 {
lab=VDDA}
N 220 -1130 260 -1130 {lab=VDDA}
N 220 -1200 220 -1130 {lab=VDDA}
N 220 -1200 260 -1200 {lab=VDDA}
N 260 -1100 260 -990 {lab=START_UP}
N 260 -1240 1060 -1240 {lab=VDDA}
N 510 -1130 860 -1130 {lab=V_TOP}
N 860 -1130 860 -1080 {lab=V_TOP}
N 860 -1080 1180 -1080 {lab=V_TOP}
N 260 -1020 470 -1020 {lab=START_UP}
N 260 -190 820 -190 {lab=GNDA}
N 1180 -1130 1180 -1080 {lab=V_TOP}
N 510 -820 1060 -820 {lab=bgr_Vin-}
N 220 -830 220 -760 {lab=GNDA}
N 220 -830 260 -830 {lab=GNDA}
N 260 -270 260 -190 {lab=GNDA}
N 510 -1020 550 -1020 {lab=VDDA}
N 260 -450 260 -270 {lab=GNDA}
N 300 -1130 510 -1130 {lab=V_TOP}
N 260 -890 320 -890 {lab=START_UP}
N 320 -890 320 -830 {lab=START_UP}
N 300 -830 320 -830 {lab=START_UP}
N 510 -990 510 -820 {lab=bgr_Vin-}
N 820 -600 820 -450 {lab=bgr_Vin-}
N 1700 -600 1700 -450 {lab=bgr_Vin+}
N 1250 -190 1250 -120 {lab=GNDA}
N 760 -420 800 -420 {lab=GNDA}
N 1380 -420 1420 -420 {lab=GNDA}
N 1720 -420 1760 -420 {lab=GNDA}
N 1160 -790 1180 -790 {lab=GNDA}
N 1300 -790 1320 -790 {lab=VDDA}
N 550 -1240 550 -1020 {lab=VDDA}
N 1260 -730 1260 -600 {lab=bgr_Vin+}
N 1220 -730 1220 -600 {lab=bgr_Vin-}
N 1260 -600 1700 -600 {lab=bgr_Vin+}
N 820 -600 1220 -600 {lab=bgr_Vin-}
N 1240 -1130 1240 -860 {lab=V_TOP}
N 1440 -600 1440 -450 {lab=bgr_Vin+}
N 1440 -1100 1440 -600 {lab=bgr_Vin+}
N 1060 -600 1060 -300 {lab=bgr_Vin-}
N 1060 -1100 1060 -600 {lab=bgr_Vin-}
N 220 -410 260 -410 {lab=GNDA}
N 220 -480 220 -410 {lab=GNDA}
N 220 -480 260 -480 {lab=GNDA}
N 260 -540 320 -540 {lab=START_UP_NFET1}
N 320 -540 320 -480 {lab=START_UP_NFET1}
N 300 -480 320 -480 {lab=START_UP_NFET1}
N 260 -800 260 -510 {lab=START_UP_NFET1}
N 1440 -190 1700 -190 {lab=GNDA}
N 1700 -190 2030 -190 {lab=GNDA}
N 1440 -1240 1850 -1240 {lab=VDDA}
N 1340 -1050 1990 -1050 {lab=V_TOP}
N 1340 -1130 1340 -1050 {lab=V_TOP}
N 2050 -420 2090 -420 {lab=GNDA}
N 1250 -1310 1250 -1240 {lab=VDDA}
N 220 -760 220 -480 {lab=GNDA}
N 2260 -1240 2260 -1080 {
lab=VDDA}
N 2260 -1050 2300 -1050 {lab=VDDA}
N 2300 -1120 2300 -1050 {lab=VDDA}
N 2260 -1120 2300 -1120 {lab=VDDA}
N 2170 -1050 2220 -1050 {lab=VDDA}
N 2170 -1120 2170 -1050 {lab=VDDA}
N 2170 -1120 2260 -1120 {lab=VDDA}
N 2030 -980 2260 -980 {lab=ERR_AMP_REF}
N 2260 -1020 2260 -980 {lab=ERR_AMP_REF}
N 720 -990 720 -920 {lab=V_TOP}
N 550 -1020 720 -1020 {lab=VDDA}
N 720 -1240 720 -1050 {lab=VDDA}
N 760 -1020 800 -1020 {lab=VDDA}
N 800 -1100 800 -1020 {lab=VDDA}
N 720 -1100 800 -1100 {lab=VDDA}
N 510 -1080 610 -1080 {lab=V_TOP}
N 610 -1080 610 -920 {lab=V_TOP}
N 610 -920 720 -920 {lab=V_TOP}
N 2030 -550 2150 -550 {lab=ERR_AMP_REF}
N 2030 -1240 2260 -1240 {lab=VDDA}
N 2470 -390 2470 -190 {lab=GNDA}
N 2470 -1240 2470 -1080 {
lab=VDDA}
N 2470 -1050 2510 -1050 {lab=VDDA}
N 2510 -1120 2510 -1050 {lab=VDDA}
N 2470 -1120 2510 -1120 {lab=VDDA}
N 2470 -1020 2470 -450 {lab=PULSE_MAG_REF}
N 2490 -420 2530 -420 {lab=GNDA}
N 2700 -1240 2700 -1080 {
lab=VDDA}
N 2700 -1050 2740 -1050 {lab=VDDA}
N 2740 -1120 2740 -1050 {lab=VDDA}
N 2700 -1120 2740 -1120 {lab=VDDA}
N 2610 -1050 2660 -1050 {lab=VDDA}
N 2610 -1120 2610 -1050 {lab=VDDA}
N 2610 -1120 2700 -1120 {lab=VDDA}
N 2470 -980 2700 -980 {lab=PULSE_MAG_REF}
N 2700 -1020 2700 -980 {lab=PULSE_MAG_REF}
N 2470 -550 2590 -550 {lab=PULSE_MAG_REF}
N 2470 -1240 2700 -1240 {lab=VDDA}
N 1930 -1050 1930 -890 {lab=V_TOP}
N 1930 -890 2370 -890 {lab=V_TOP}
N 2370 -1050 2370 -890 {lab=V_TOP}
N 2370 -1050 2430 -1050 {lab=V_TOP}
N 2260 -1240 2470 -1240 {lab=VDDA}
N 2030 -190 2470 -190 {lab=GNDA}
C {sky130_fd_pr/pfet_01v8.sym} 2010 -1050 0 0 {name=M45
W=20
L=1
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2030 -420 0 1 {name=R4
L=21.76
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {lab_wire.sym} 1860 -1050 2 0 {name=p56 sig_type=std_logic lab=V_TOP}
C {sky130_fd_pr/cap_mim_m3_1.sym} 1760 -1150 2 0 {name=C1 model=cap_mim_m3_1 W=2 L=2 MF=100 spiceprefix=X}
C {devices/lab_pin.sym} 1440 -340 2 0 {name=p67 sig_type=std_logic lab=Vbe2}
C {sky130_fd_pr/pnp_05v5.sym} 1040 -270 0 0 {name=Q1
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1420 -270 0 0 {name=Q2
model=pnp_05v5_W3p40L3p40
m=8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1080 -1130 0 1 {name=M51
W=20
L=1
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1420 -1130 0 0 {name=M53
W=20
L=1
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 1340 -600 2 0 {name=p70 sig_type=std_logic lab=bgr_Vin+}
C {lab_wire.sym} 1150 -600 2 1 {name=p71 sig_type=std_logic lab=bgr_Vin-}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1700 -420 0 1 {name=R6
L=36
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 820 -420 0 0 {name=R7
L=36
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/nfet_01v8.sym} 280 -830 0 1 {name=M54
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 280 -1130 0 1 {name=M55
W=20
L=1
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 260 -1020 2 1 {name=p72 sig_type=std_logic lab=START_UP}
C {lab_wire.sym} 510 -1130 0 0 {name=p73 sig_type=std_logic lab=V_TOP}
C {sky130_fd_pr/pfet_01v8.sym} 490 -1020 0 0 {name=M56
W=2
L=0.15
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 280 -480 0 1 {name=M57
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 260 -720 2 0 {name=p90 sig_type=std_logic lab=START_UP_NFET1}
C {/foss/designs/my_design/projects/bandgapref/xschem_ngspice/new_files/opamp_bandgap_2.sym} 1240 -790 1 1 {name=x1}
C {sky130_fd_pr/pfet_01v8.sym} 2240 -1050 0 0 {name=M83
W=10
L=1
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 740 -1020 0 1 {name=M92
W=2
L=0.15
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/res_high_po_0p35.sym} 1440 -420 0 0 {name=R5
L=22.8
model=res_high_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} 2450 -1050 0 0 {name=M1
W=20
L=1
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2470 -420 0 1 {name=R1
L=40
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} 2680 -1050 0 0 {name=M2
W=10
L=1
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {opin.sym} 1250 -1310 0 0 {name=p1 lab=VDDA}
C {opin.sym} 1250 -120 0 0 {name=p2 lab=GNDA}
C {lab_wire.sym} 760 -420 2 1 {name=p3 sig_type=std_logic lab=GNDA}
C {lab_wire.sym} 1380 -420 2 1 {name=p4 sig_type=std_logic lab=GNDA}
C {lab_wire.sym} 1760 -420 2 0 {name=p5 sig_type=std_logic lab=GNDA}
C {lab_wire.sym} 2090 -420 2 0 {name=p6 sig_type=std_logic lab=GNDA}
C {lab_wire.sym} 2530 -420 2 0 {name=p7 sig_type=std_logic lab=GNDA}
C {lab_wire.sym} 1160 -790 2 1 {name=p8 sig_type=std_logic lab=GNDA}
C {lab_wire.sym} 1320 -790 2 0 {name=p9 sig_type=std_logic lab=VDDA}
C {opin.sym} 2150 -550 0 0 {name=p10 lab=ERR_AMP_REF}
C {opin.sym} 2590 -550 0 0 {name=p11 lab=PULSE_MAG_REF}
