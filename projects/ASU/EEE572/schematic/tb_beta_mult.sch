v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
B 2 1890 -2460 2800 -1820 {flags=graph

y2=0.78
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=2
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=-1.5e-19









color=7
node=v_ref}
B 2 840 -2460 1750 -1820 {flags=graph

y2=1.2e-05
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=2
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=0








color="6 7"
node="i(@m.xm1.msky130_fd_pr__nfet_01v8[id])
i(@m.xm2.msky130_fd_pr__nfet_01v8[id])"}
N 1410 -3510 1410 -2890 {lab=#net1}
N 2360 -3510 2360 -2890 {lab=V_REF}
N 1410 -3640 1410 -3570 {lab=VDD}
N 2360 -3640 2360 -3570 {lab=VDD}
N 1410 -2830 1410 -2760 {lab=GND}
N 2360 -2830 2360 -2760 {lab=V_RES}
N 1410 -2950 1520 -2950 {lab=#net1}
N 1520 -2950 1520 -2860 {lab=#net1}
N 2360 -3540 2400 -3540 {lab=VDD}
N 2400 -3600 2400 -3540 {lab=VDD}
N 2360 -3600 2400 -3600 {lab=VDD}
N 1370 -3540 1410 -3540 {lab=VDD}
N 1370 -3600 1370 -3540 {lab=VDD}
N 1370 -3600 1410 -3600 {lab=VDD}
N 1370 -2800 1410 -2800 {lab=GND}
N 1370 -2860 1370 -2800 {lab=GND}
N 1370 -2860 1410 -2860 {lab=GND}
N 2360 -2860 2490 -2860 {lab=GND}
N 960 -3200 960 -3030 {lab=START_UP}
N 960 -3330 960 -3260 {lab=VDD}
N 920 -3230 960 -3230 {lab=VDD}
N 920 -3290 920 -3230 {lab=VDD}
N 920 -3290 960 -3290 {lab=VDD}
N 920 -3000 920 -2940 {lab=GND}
N 920 -3000 960 -3000 {lab=GND}
N 1150 -3150 1220 -3150 {lab=GND}
N 960 -3150 1110 -3150 {lab=START_UP}
N 1000 -3230 1030 -3230 {lab=START_UP}
N 1030 -3230 1030 -3150 {lab=START_UP}
N 1150 -3190 1150 -3180 {lab=#net2}
N 1150 -3120 1150 -3110 {lab=#net1}
N 1150 -3110 1410 -3110 {lab=#net1}
N 2300 -2730 2340 -2730 {lab=GND}
N 2360 -2700 2360 -2620 {lab=GND}
N 1000 -3000 1410 -3000 {lab=#net1}
N 960 -2970 960 -2890 {lab=GND}
N 960 -2890 960 -2770 {lab=GND}
N 920 -2940 960 -2940 {lab=GND}
N 1660 -3690 1660 -2710 {lab=#net3}
N 2040 -3690 2040 -2710 {lab=#net2}
N 1700 -3720 2000 -3720 {lab=#net3}
N 1660 -3820 1660 -3750 {lab=VDD}
N 2040 -3820 2040 -3750 {lab=VDD}
N 1660 -2650 1660 -2580 {lab=GND}
N 2040 -2650 2040 -2580 {lab=GND}
N 2040 -3720 2080 -3720 {lab=VDD}
N 2080 -3780 2080 -3720 {lab=VDD}
N 2040 -3780 2080 -3780 {lab=VDD}
N 1620 -3720 1660 -3720 {lab=VDD}
N 1620 -3780 1620 -3720 {lab=VDD}
N 1620 -3780 1660 -3780 {lab=VDD}
N 1620 -2620 1660 -2620 {lab=GND}
N 1620 -2680 1620 -2620 {lab=GND}
N 1620 -2680 1660 -2680 {lab=GND}
N 2040 -2620 2080 -2620 {lab=GND}
N 2080 -2680 2080 -2620 {lab=GND}
N 2040 -2680 2080 -2680 {lab=GND}
N 1840 -3720 1840 -3610 {lab=#net3}
N 1660 -3610 1840 -3610 {lab=#net3}
N 1450 -2860 1520 -2860 {lab=#net1}
N 1520 -2860 1870 -2860 {lab=#net1}
N 1870 -2860 2000 -2680 {lab=#net1}
N 1700 -2680 1940 -2860 {lab=V_REF}
N 1940 -2860 2320 -2860 {lab=V_REF}
N 2240 -2950 2240 -2860 {lab=V_REF}
N 2240 -2950 2360 -2950 {lab=V_REF}
N 1450 -3540 2040 -3540 {lab=#net2}
N 2040 -3540 2320 -3540 {lab=#net2}
N 1150 -3190 2040 -3190 {lab=#net2}
N 2760 -2970 2760 -2900 {lab=GND}
N 2760 -2940 2800 -2940 {lab=GND}
N 2800 -3000 2800 -2940 {lab=GND}
N 2760 -3000 2800 -3000 {lab=GND}
N 2360 -3000 2720 -3000 {lab=V_REF}
N 2800 -3260 3100 -3260 {lab=#net4}
N 2760 -3360 2760 -3290 {lab=VDD}
N 2720 -3260 2760 -3260 {lab=VDD}
N 2720 -3320 2720 -3260 {lab=VDD}
N 2720 -3320 2760 -3320 {lab=VDD}
N 2870 -3260 2870 -3150 {lab=#net4}
N 2760 -3230 2760 -3030 {lab=#net4}
N 2760 -3150 2870 -3150 {lab=#net4}
N 3240 -3620 3540 -3620 {lab=#net5}
N 3200 -3720 3200 -3650 {lab=VDD}
N 3580 -3720 3580 -3650 {lab=VDD}
N 3580 -3620 3620 -3620 {lab=VDD}
N 3620 -3680 3620 -3620 {lab=VDD}
N 3580 -3680 3620 -3680 {lab=VDD}
N 3160 -3620 3200 -3620 {lab=VDD}
N 3160 -3680 3160 -3620 {lab=VDD}
N 3160 -3680 3200 -3680 {lab=VDD}
N 3380 -3620 3380 -3510 {lab=#net5}
N 3200 -3170 3380 -3170 {lab=#net5}
N 3240 -3350 3540 -3350 {lab=#net4}
N 3200 -3450 3200 -3380 {lab=#net6}
N 3580 -3450 3580 -3380 {lab=#net7}
N 3580 -3350 3620 -3350 {lab=#net7}
N 3620 -3410 3620 -3350 {lab=#net7}
N 3580 -3410 3620 -3410 {lab=#net7}
N 3160 -3350 3200 -3350 {lab=#net6}
N 3160 -3410 3160 -3350 {lab=#net6}
N 3160 -3410 3200 -3410 {lab=#net6}
N 3200 -3590 3200 -3450 {lab=#net6}
N 3580 -3590 3580 -3450 {lab=#net7}
N 3380 -3510 3380 -3170 {lab=#net5}
N 3200 -3320 3200 -3100 {lab=#net5}
N 3580 -3320 3580 -3100 {lab=#net8}
N 3100 -3260 3300 -3260 {lab=#net4}
N 3300 -3350 3300 -3260 {lab=#net4}
N 3200 -2970 3200 -2900 {lab=GND}
N 3200 -2940 3240 -2940 {lab=GND}
N 3240 -3000 3240 -2940 {lab=GND}
N 3200 -3000 3240 -3000 {lab=GND}
N 3200 -3100 3200 -3030 {lab=#net5}
N 3010 -3000 3160 -3000 {lab=V_REF}
N 3010 -3080 3010 -3000 {lab=V_REF}
N 2640 -3080 3010 -3080 {lab=V_REF}
N 2640 -3080 2640 -3000 {lab=V_REF}
N 3580 -2970 3580 -2900 {lab=GND}
N 3540 -2940 3580 -2940 {lab=GND}
N 3540 -3000 3540 -2940 {lab=GND}
N 3540 -3000 3580 -3000 {lab=GND}
N 3580 -3100 3580 -3030 {lab=#net8}
N 3580 -3140 3830 -3140 {lab=#net8}
N 3620 -3000 3710 -3000 {lab=#net8}
N 3710 -3140 3710 -3000 {lab=#net8}
C {devices/vsource.sym} 420 -3440 0 0 {name=V1 value=1.8 savecurrent=false
* "pwl(0 0 2us 0 3us 1.8)"}
C {devices/gnd.sym} 420 -3410 0 0 {name=l3 lab=GND}
C {devices/vdd.sym} 420 -3470 0 0 {name=l4 lab=VDD}
C {sky130_fd_pr/corner.sym} 190 -3490 0 0 {name=CORNER only_toplevel=false corner=tt}
C {simulator_commands_shown.sym} 150 -3190 0 0 {name=COMMANDS
simulator=ngspice
only_toplevel=false 
value="
.options method=gear
.options wnflag=1
.options savecurrents

.save
+@m.xm1.msky130_fd_pr__nfet_01v8[gm]
+@m.xm1.msky130_fd_pr__nfet_01v8[vth]
+@m.xm2.msky130_fd_pr__nfet_01v8[gm]
+@m.xm2.msky130_fd_pr__nfet_01v8[vth]
+@m.xm3.msky130_fd_pr__pfet_01v8[gm]
+@m.xm3.msky130_fd_pr__pfet_01v8[vth]
+@m.xm4.msky130_fd_pr__pfet_01v8[gm]
+@m.xm4.msky130_fd_pr__pfet_01v8[vth]
+@m.xm5.msky130_fd_pr__nfet_01v8[gm]
+@m.xm5.msky130_fd_pr__nfet_01v8[vth]
+@m.xm6.msky130_fd_pr__pfet_01v8[gm]
+@m.xm6.msky130_fd_pr__pfet_01v8[vth]
+@m.xm7.msky130_fd_pr__nfet_01v8[gm]
+@m.xm7.msky130_fd_pr__nfet_01v8[vth]


* .ic v(v_top) = 1.8

.control
  save all
  set appendwrite
  dc V1 0.0 2.0 0.005
  write tb_beta_mult.raw
.endc


"}
C {sky130_fd_pr/nfet_01v8.sym} 2340 -2860 0 0 {name=M1
W=16
L=0.5
nf=8 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1430 -2860 0 1 {name=M2
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 980 -3000 0 1 {name=M5
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1130 -3150 0 0 {name=M7
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/res_high_po_0p35.sym} 2360 -2730 0 0 {name=R1
L=6
model=res_high_po_0p35
spiceprefix=X
mult=1}
C {devices/gnd.sym} 2360 -2620 0 0 {name=l1 lab=GND}
C {devices/gnd.sym} 2300 -2730 0 1 {name=l2 lab=GND}
C {devices/gnd.sym} 1410 -2760 0 1 {name=l5 lab=GND}
C {devices/gnd.sym} 960 -2770 0 1 {name=l6 lab=GND}
C {devices/gnd.sym} 1220 -3150 0 0 {name=l7 lab=GND}
C {devices/gnd.sym} 2490 -2860 0 0 {name=l8 lab=GND}
C {devices/vdd.sym} 960 -3330 0 0 {name=l9 lab=VDD}
C {devices/vdd.sym} 1410 -3640 0 0 {name=l10 lab=VDD}
C {devices/vdd.sym} 2360 -3640 0 0 {name=l11 lab=VDD}
C {lab_pin.sym} 2360 -2790 0 1 {name=p2 sig_type=std_logic lab=V_RES}
C {lab_pin.sym} 960 -3150 0 0 {name=p3 sig_type=std_logic lab=START_UP}
C {sky130_fd_pr/pfet_01v8.sym} 980 -3230 0 1 {name=M6
W=0.5
L=20
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 2340 -3540 0 0 {name=M3
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1430 -3540 0 1 {name=M4
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/ngspice_get_value.sym} 2520 -2780 0 0 {name=r8 node=v(@m.xm1.msky130_fd_pr__nfet_01v8[vth])
descr="vth="}
C {sky130_fd_pr/nfet_01v8.sym} 2020 -2680 0 0 {name=M8
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1680 -2680 0 1 {name=M9
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 2040 -2580 0 0 {name=l12 lab=GND}
C {devices/gnd.sym} 1660 -2580 0 1 {name=l14 lab=GND}
C {devices/vdd.sym} 1660 -3820 0 0 {name=l16 lab=VDD}
C {devices/vdd.sym} 2040 -3820 0 0 {name=l17 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 2020 -3720 0 0 {name=M10
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1680 -3720 0 1 {name=M11
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 2360 -3130 0 1 {name=p1 sig_type=std_logic lab=V_REF}
C {sky130_fd_pr/nfet_01v8.sym} 2740 -3000 0 0 {name=M12
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 2760 -2900 0 0 {name=l13 lab=GND}
C {devices/vdd.sym} 2760 -3360 0 0 {name=l15 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 2780 -3260 0 1 {name=M13
W=12
L=2.5
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/vdd.sym} 3200 -3720 0 0 {name=l18 lab=VDD}
C {devices/vdd.sym} 3580 -3720 0 0 {name=l19 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 3560 -3620 0 0 {name=M14
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3220 -3620 0 1 {name=M15
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3560 -3350 0 0 {name=M16
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3220 -3350 0 1 {name=M17
W=12
L=0.5
nf=6
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 3180 -3000 0 0 {name=M18
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 3200 -2900 0 0 {name=l20 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 3600 -3000 0 1 {name=M19
W=4
L=0.5
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 3580 -2900 0 1 {name=l21 lab=GND}
