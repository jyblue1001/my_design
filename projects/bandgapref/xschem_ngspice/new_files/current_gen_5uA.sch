v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 800 -120 1180 -120 {
lab=GNDA}
N 760 -200 760 -120 {
lab=GNDA}
N 1140 -200 1140 -120 {
lab=GNDA}
N 760 -120 800 -120 {
lab=GNDA}
N 840 -1310 980 -1310 {
lab=V_TOP}
N 980 -1310 1140 -1310 {
lab=V_TOP}
N 800 -1420 800 -1340 {
lab=VDDA}
N 800 -1420 1180 -1420 {
lab=VDDA}
N 1180 -1420 1180 -1340 {
lab=VDDA}
N 1180 -1420 1820 -1420 {
lab=VDDA}
N 1180 -340 1180 -230 {lab=Vbe2}
N 1530 -340 1530 -120 {lab=GNDA}
N 470 -340 470 -120 {lab=GNDA}
N 1180 -120 1520 -120 {lab=GNDA}
N 1820 -420 1820 -120 {lab=GNDA}
N 1520 -120 1820 -120 {lab=GNDA}
N 1180 -1310 1220 -1310 {lab=VDDA}
N 1220 -1380 1220 -1310 {lab=VDDA}
N 1180 -1380 1220 -1380 {lab=VDDA}
N 760 -1310 800 -1310 {lab=VDDA}
N 760 -1380 760 -1310 {lab=VDDA}
N 760 -1380 800 -1380 {lab=VDDA}
N 1820 -1420 1820 -1340 {
lab=VDDA}
N 1820 -1310 1860 -1310 {lab=VDDA}
N 1860 -1380 1860 -1310 {lab=VDDA}
N 1820 -1380 1860 -1380 {lab=VDDA}
N 1120 -1310 1120 -1260 {lab=V_TOP}
N 1120 -1260 1760 -1260 {lab=V_TOP}
N 1760 -1310 1760 -1260 {lab=V_TOP}
N 1760 -1310 1780 -1310 {lab=V_TOP}
N 1820 -1120 1920 -1120 {lab=V_REF}
N 470 -120 760 -120 {lab=GNDA}
N 1180 -170 1180 -120 {lab=GNDA}
N 800 -170 800 -120 {lab=GNDA}
N 420 -1310 420 -1270 {lab=V_TOP}
N 220 -1210 220 -960 {lab=start_up}
N 220 -1420 220 -1340 {
lab=VDDA}
N 180 -1310 220 -1310 {lab=VDDA}
N 180 -1380 180 -1310 {lab=VDDA}
N 180 -1380 220 -1380 {lab=VDDA}
N 220 -1280 220 -1210 {lab=start_up}
N 220 -1420 800 -1420 {lab=VDDA}
N 420 -1310 510 -1310 {lab=V_TOP}
N 510 -1310 510 -1260 {lab=V_TOP}
N 510 -1260 920 -1260 {lab=V_TOP}
N 220 -1240 380 -1240 {lab=start_up}
N 220 -120 470 -120 {lab=GNDA}
N 920 -1310 920 -1260 {lab=V_TOP}
N 420 -1090 800 -1090 {lab=Vin-}
N 180 -860 220 -860 {lab=start_up_nfet1}
N 180 -930 180 -860 {lab=start_up_nfet1}
N 180 -930 220 -930 {lab=start_up_nfet1}
N 220 -200 220 -120 {lab=GNDA}
N 420 -1240 460 -1240 {lab=VDDA}
N 220 -550 220 -200 {lab=GNDA}
N 260 -1310 420 -1310 {lab=V_TOP}
N 220 -990 280 -990 {lab=start_up}
N 280 -990 280 -930 {lab=start_up}
N 260 -930 280 -930 {lab=start_up}
N 420 -1210 420 -1090 {lab=Vin-}
N 470 -550 470 -400 {lab=Vin-}
N 1530 -550 1530 -400 {lab=Vin+}
N 990 -1510 990 -1420 {lab=VDDA}
N 990 -120 990 -50 {lab=GNDA}
N 410 -370 450 -370 {lab=GNDA}
N 1120 -370 1160 -370 {lab=GNDA}
N 1550 -370 1590 -370 {lab=GNDA}
N 1840 -450 1880 -450 {lab=GNDA}
N 900 -730 920 -730 {lab=GNDA}
N 1040 -730 1060 -730 {lab=VDDA}
N 460 -1420 460 -1240 {lab=VDDA}
N 1000 -670 1000 -550 {lab=Vin+}
N 960 -670 960 -550 {lab=Vin-}
N 1000 -550 1530 -550 {lab=Vin+}
N 470 -550 960 -550 {lab=Vin-}
N 1820 -1280 1820 -480 {lab=V_REF}
N 980 -1310 980 -800 {lab=V_TOP}
N 1180 -550 1180 -400 {lab=Vin+}
N 1180 -1280 1180 -550 {lab=Vin+}
N 800 -550 800 -230 {lab=Vin-}
N 800 -1280 800 -550 {lab=Vin-}
N 180 -510 220 -510 {lab=GNDA}
N 180 -580 180 -510 {lab=GNDA}
N 180 -580 220 -580 {lab=GNDA}
N 220 -640 280 -640 {lab=start_up_nfet1}
N 280 -640 280 -580 {lab=start_up_nfet1}
N 260 -580 280 -580 {lab=start_up_nfet1}
N 220 -900 220 -610 {lab=start_up_nfet1}
N 2520 -1100 2560 -1100 {lab=VDDA}
N 2560 -1170 2560 -1100 {lab=VDDA}
N 2520 -1170 2560 -1170 {lab=VDDA}
N 2270 -1100 2480 -1100 {lab=V_CUR_REF_GATE}
N 2050 -1080 2140 -1080 {lab=V_CUR_REF_REG}
N 2050 -1080 2050 -820 {lab=V_CUR_REF_REG}
N 2050 -820 2520 -820 {lab=V_CUR_REF_REG}
N 2520 -1070 2520 -630 {lab=V_CUR_REF_REG}
N 1920 -1120 2140 -1120 {lab=V_REF}
N 1820 -1420 2520 -1420 {lab=VDDA}
N 2520 -1420 2520 -1130 {lab=VDDA}
N 1820 -120 2520 -120 {lab=GNDA}
N 2520 -570 2520 -120 {lab=GNDA}
N 2430 -1100 2430 -1020 {lab=V_CUR_REF_GATE}
N 2430 -1020 2780 -1020 {lab=V_CUR_REF_GATE}
C {devices/lab_pin.sym} 1180 -290 2 0 {name=p5 sig_type=std_logic lab=Vbe2}
C {sky130_fd_pr/pnp_05v5.sym} 780 -200 0 0 {name=Q1
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1160 -200 0 0 {name=Q2
model=pnp_05v5_W3p40L3p40
m=8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 820 -1310 0 1 {name=M1
W=10
L=0.3
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1160 -1310 0 0 {name=M2
W=10
L=0.3
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1800 -1310 0 0 {name=M3
W=10
L=0.3
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 1390 -1260 2 0 {name=p2 sig_type=std_logic lab=V_TOP}
C {lab_wire.sym} 1080 -550 2 0 {name=p6 sig_type=std_logic lab=Vin+}
C {lab_wire.sym} 890 -550 2 1 {name=p1 sig_type=std_logic lab=Vin-}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1180 -370 0 0 {name=R1
L=3.87
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1530 -370 0 1 {name=R2
L=32
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 470 -370 0 0 {name=R3
L=32
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1820 -450 0 1 {name=R4
L=32
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/nfet_01v8.sym} 240 -930 0 1 {name=M5
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 240 -1310 0 1 {name=M6
W=10
L=0.3
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 220 -1240 2 1 {name=p7 sig_type=std_logic lab=start_up}
C {lab_wire.sym} 420 -1310 0 0 {name=p8 sig_type=std_logic lab=V_TOP}
C {sky130_fd_pr/pfet_01v8.sym} 400 -1240 0 0 {name=M4
W=2
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {iopin.sym} 990 -1510 0 0 {name=p9 lab=VDDA}
C {iopin.sym} 990 -50 0 0 {name=p10 lab=GNDA}
C {devices/lab_pin.sym} 900 -730 2 1 {name=p12 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 410 -370 2 1 {name=p13 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 1120 -370 2 1 {name=p14 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 1590 -370 2 0 {name=p15 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 1880 -450 2 0 {name=p16 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 1060 -730 2 0 {name=p11 sig_type=std_logic lab=VDDA}
C {opamp_bandgap_2.sym} 980 -730 1 1 {name=x1}
C {sky130_fd_pr/nfet_01v8.sym} 240 -580 0 1 {name=M7
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 220 -740 2 0 {name=p3 sig_type=std_logic lab=start_up_nfet1}
C {devices/vdd.sym} 2200 -1040 2 0 {name=l10 lab=VDD}
C {devices/gnd.sym} 2200 -1160 2 0 {name=l11 lab=GND
W=4}
C {opamp_bandgap_2.sym} 2200 -1100 2 1 {name=x2}
C {devices/gnd.sym} 2500 -600 1 0 {name=l13 lab=GND
L=35.875}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2520 -600 0 0 {name=R6
L=32
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} 2500 -1100 0 0 {name=M8
W=10
L=0.3
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 2520 -820 0 1 {name=p17 sig_type=std_logic lab=V_CUR_REF_REG}
C {lab_wire.sym} 1920 -1120 0 1 {name=p19 sig_type=std_logic lab=V_REF}
C {opin.sym} 2780 -1020 0 0 {name=p20 lab=V_CUR_REF_GATE}
