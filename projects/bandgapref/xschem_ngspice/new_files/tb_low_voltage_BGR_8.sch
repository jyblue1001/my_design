v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
B 2 1310 -630 1780 -260 {flags=graph

y2=8.6e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=8e-06
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=-6.1e-20





color="6 7"
node="i(vmeas)
i(vmeas1)"}
B 2 3560 -630 4030 -260 {flags=graph

y2=0.0017
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=8e-06
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=-0.0025







color="6 7"
node="vin-
vin+"}
B 2 4060 -630 4530 -260 {flags=graph

y2=0.001
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=8e-06
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=-4.9e-17








color=6
node=v_ref}
B 2 2550 -1610 2810 -1430 {flags=graph

y2=0.76
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=8e-06
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=1
























y1=4.5e-130







color="6 7"
node="vin-
vin+"}
B 2 2930 -630 3400 -260 {flags=graph

y2=1.8
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=8e-06
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=0







color=6
node=vdd}
N 830 -1670 970 -1670 {
lab=Vbiasp}
N 970 -1670 1770 -1670 {
lab=Vbiasp}
N 790 -1860 790 -1700 {
lab=VDD}
N 790 -1860 1810 -1860 {
lab=VDD}
N 1810 -1860 1810 -1700 {
lab=VDD}
N 1810 -1670 1850 -1670 {lab=VDD}
N 1850 -1740 1850 -1670 {lab=VDD}
N 750 -1670 790 -1670 {lab=VDD}
N 750 -1740 750 -1670 {lab=VDD}
N 1750 -1670 1750 -1620 {lab=Vbiasp}
N 1750 -1620 1960 -1620 {lab=Vbiasp}
N 330 -1670 330 -1630 {lab=Vbiasp}
N 120 -1860 120 -1700 {
lab=VDD}
N 80 -1670 120 -1670 {lab=VDD}
N 80 -1740 80 -1670 {lab=VDD}
N 80 -1740 120 -1740 {lab=VDD}
N 120 -1640 120 -1570 {lab=start_up}
N 120 -1860 790 -1860 {lab=VDD}
N 670 -1670 670 -1620 {lab=Vbiasp}
N 670 -1620 910 -1620 {lab=Vbiasp}
N 120 -1600 290 -1600 {lab=start_up}
N 910 -1670 910 -1620 {lab=Vbiasp}
N 80 -1100 120 -1100 {lab=GND}
N 80 -1170 80 -1100 {lab=GND}
N 80 -1170 120 -1170 {lab=GND}
N 120 -1140 120 -1070 {lab=GND}
N 330 -1600 370 -1600 {lab=VDD}
N 330 -1470 330 -1450 {lab=V1}
N 330 -1570 330 -1530 {lab=#net1}
N 160 -1670 330 -1670 {lab=Vbiasp}
N 120 -1230 180 -1230 {lab=#net2}
N 180 -1230 180 -1170 {lab=#net2}
N 160 -1170 180 -1170 {lab=#net2}
N 750 -1740 790 -1740 {lab=VDD}
N 1810 -1740 1850 -1740 {lab=VDD}
N 370 -1860 370 -1600 {lab=VDD}
N 120 -820 120 -700 {lab=GND}
N 120 -1070 120 -820 {lab=GND}
N 580 -1450 790 -1450 {lab=V1}
N 120 -1390 120 -1200 {lab=#net2}
N 120 -1570 120 -1450 {lab=start_up}
N 330 -1450 580 -1450 {lab=V1}
N 330 -1670 670 -1670 {lab=Vbiasp}
N 790 -1230 790 -1080 {lab=Vbiasn}
N 790 -1020 790 -700 {lab=GND}
N 830 -1050 890 -1050 {lab=Vbiasn}
N 890 -1140 890 -1050 {lab=Vbiasn}
N 790 -1140 890 -1140 {lab=Vbiasn}
N 1710 -1050 1770 -1050 {lab=Vreg}
N 1710 -1140 1710 -1050 {lab=Vreg}
N 1710 -1140 1810 -1140 {lab=Vreg}
N 1810 -1310 1810 -1080 {lab=Vreg}
N 1810 -1020 1810 -900 {lab=#net3}
N 120 -700 790 -700 {lab=GND}
N 1810 -840 1810 -700 {lab=GND}
N 1810 -1640 1810 -1370 {lab=V2}
N 790 -1640 790 -1290 {lab=V1}
N 700 -1050 790 -1050 {lab=GND}
N 700 -1050 700 -960 {lab=GND}
N 700 -960 790 -960 {lab=GND}
N 1810 -1050 1900 -1050 {lab=GND}
N 1240 -1370 1340 -1370 {lab=#net4}
N 1200 -1340 1200 -1170 {lab=#net4}
N 1380 -1340 1380 -1170 {lab=Vbiasp}
N 1200 -1110 1200 -1070 {lab=GND}
N 1200 -1070 1380 -1070 {lab=GND}
N 1380 -1110 1380 -1070 {lab=GND}
N 1290 -1140 1290 -1070 {lab=GND}
N 1290 -1070 1290 -700 {lab=GND}
N 1200 -1320 1290 -1320 {lab=#net4}
N 1290 -1370 1290 -1320 {lab=#net4}
N 1160 -1370 1200 -1370 {lab=VDD}
N 1160 -1450 1160 -1370 {lab=VDD}
N 1160 -1450 1200 -1450 {lab=VDD}
N 1200 -1450 1200 -1400 {lab=VDD}
N 1380 -1370 1420 -1370 {lab=VDD}
N 1420 -1450 1420 -1370 {lab=VDD}
N 1380 -1450 1420 -1450 {lab=VDD}
N 1380 -1450 1380 -1400 {lab=VDD}
N 1200 -1450 1380 -1450 {lab=VDD}
N 1290 -1860 1290 -1450 {lab=VDD}
N 1380 -1290 1510 -1290 {lab=Vbiasp}
N 1510 -1670 1510 -1290 {lab=Vbiasp}
N 790 -700 1810 -700 {lab=GND}
N 1200 -1140 1380 -1140 {lab=GND}
N 890 -1140 1070 -1140 {lab=Vbiasn}
N 1070 -1250 1070 -1140 {lab=Vbiasn}
N 1070 -1250 1480 -1250 {lab=Vbiasn}
N 1480 -1250 1480 -1140 {lab=Vbiasn}
N 1420 -1140 1480 -1140 {lab=Vbiasn}
N 1130 -1050 1710 -1050 {lab=Vreg}
N 1130 -1140 1130 -1050 {lab=Vreg}
N 1130 -1140 1160 -1140 {lab=Vreg}
N 3080 -1550 3080 -1410 {lab=V_TOP}
N 3260 -1550 3260 -1410 {lab=opamp_mir}
N 3080 -1350 3080 -1310 {lab=V_p}
N 3080 -1310 3260 -1310 {lab=V_p}
N 3260 -1350 3260 -1310 {lab=V_p}
N 3080 -1660 3080 -1610 {lab=VDD}
N 3260 -1660 3260 -1610 {lab=VDD}
N 3080 -1660 3260 -1660 {lab=VDD}
N 2830 -700 3500 -700 {
lab=GND}
N 2790 -780 2790 -700 {
lab=GND}
N 3460 -780 3460 -700 {
lab=GND}
N 2790 -700 2830 -700 {
lab=GND}
N 3500 -1000 3500 -810 {lab=Vbe2}
N 3500 -750 3500 -700 {lab=GND}
N 2830 -750 2830 -700 {lab=GND}
N 2830 -1380 3000 -1380 {lab=Vin-}
N 2870 -1780 3460 -1780 {lab=V_TOP}
N 2790 -1780 2830 -1780 {lab=VDD}
N 2790 -1860 2790 -1780 {lab=VDD}
N 2790 -1860 2830 -1860 {lab=VDD}
N 2830 -1860 2830 -1810 {lab=VDD}
N 3500 -1780 3540 -1780 {lab=VDD}
N 3540 -1860 3540 -1780 {lab=VDD}
N 3500 -1860 3540 -1860 {lab=VDD}
N 3500 -1860 3500 -1810 {lab=VDD}
N 2830 -1860 3500 -1860 {lab=VDD}
N 2970 -1490 3080 -1490 {lab=V_TOP}
N 2970 -1780 2970 -1490 {lab=V_TOP}
N 3740 -1000 3740 -700 {lab=GND}
N 3500 -700 3740 -700 {lab=GND}
N 3500 -1380 3740 -1380 {lab=Vin+}
N 2590 -1380 2830 -1380 {lab=Vin-}
N 2590 -1000 2590 -700 {lab=GND}
N 2590 -700 2790 -700 {lab=GND}
N 4040 -1780 4080 -1780 {lab=VDD}
N 4080 -1860 4080 -1780 {lab=VDD}
N 4040 -1860 4080 -1860 {lab=VDD}
N 4040 -1860 4040 -1810 {lab=VDD}
N 3540 -1860 4040 -1860 {lab=VDD}
N 3440 -1780 3440 -1680 {lab=V_TOP}
N 3440 -1680 3860 -1680 {lab=V_TOP}
N 3860 -1780 3860 -1680 {lab=V_TOP}
N 3860 -1780 4000 -1780 {lab=V_TOP}
N 4040 -1750 4040 -1060 {lab=V_REF}
N 3740 -700 4040 -700 {lab=GND}
N 4040 -1000 4040 -700 {lab=GND}
N 4040 -1240 4280 -1240 {lab=V_REF}
N 1810 -700 2590 -700 {lab=GND}
N 1810 -1860 2790 -1860 {lab=VDD}
N 3740 -1270 3740 -1060 {lab=#net5}
N 3740 -1380 3740 -1330 {lab=Vin+}
N 3500 -1270 3500 -1060 {lab=#net6}
N 3500 -1380 3500 -1330 {lab=Vin+}
N 2830 -1380 2830 -1330 {lab=Vin-}
N 2590 -1270 2590 -1060 {lab=#net7}
N 2590 -1380 2590 -1330 {lab=Vin-}
N 2830 -1270 2830 -810 {lab=#net8}
N 2830 -1550 2830 -1380 {lab=Vin-}
N 2830 -1750 2830 -1610 {lab=#net9}
N 3500 -1550 3500 -1380 {lab=Vin+}
N 3500 -1750 3500 -1610 {lab=#net10}
N 3170 -1580 3170 -1520 {lab=opamp_mir}
N 3170 -1520 3260 -1520 {lab=opamp_mir}
N 1960 -1720 1960 -1620 {lab=Vbiasp}
N 3420 -1380 3500 -1380 {lab=Vin+}
N 1900 -1050 1900 -770 {lab=GND}
N 1810 -770 1900 -770 {lab=GND}
N 3170 -1860 3170 -1660 {lab=VDD}
N 3120 -1580 3220 -1580 {lab=opamp_mir}
N 3000 -1380 3040 -1380 {lab=Vin-}
N 3080 -1380 3260 -1380 {lab=GND}
N 3300 -1380 3420 -1380 {lab=Vin+}
N 3200 -1310 3200 -1280 {lab=V_p}
N 3200 -1220 3200 -700 {lab=GND}
N 3200 -1250 3230 -1250 {lab=GND}
N 3230 -1250 3230 -1190 {lab=GND}
N 3200 -1190 3230 -1190 {lab=GND}
N 3230 -1380 3230 -1250 {lab=GND}
N 3260 -1640 3290 -1640 {lab=VDD}
N 3290 -1640 3290 -1580 {lab=VDD}
N 3260 -1580 3290 -1580 {lab=VDD}
N 3050 -1640 3080 -1640 {lab=VDD}
N 3050 -1640 3050 -1580 {lab=VDD}
N 3050 -1580 3080 -1580 {lab=VDD}
N 2120 -1860 2120 -1700 {
lab=VDD}
N 1960 -1670 2080 -1670 {lab=Vbiasp}
N 2120 -1220 2120 -700 {lab=GND}
N 2160 -1250 3060 -1250 {lab=Vbiasn}
N 1480 -1250 2160 -1250 {lab=Vbiasn}
N 3160 -1580 3160 -1250 {lab=opamp_mir}
C {devices/vsource.sym} 750 -500 0 0 {name=V1 value="pwl(0 0 1us 0 2us 1.8)" savecurrent=false
* 1.8}
C {devices/gnd.sym} 750 -470 0 0 {name=l3 lab=GND}
C {sky130_fd_pr/corner.sym} 310 -550 0 0 {name=CORNER only_toplevel=false corner=tt}
C {devices/code.sym} 520 -550 0 0 {name=CODE only_toplevel=false value="

.option method=gear
.option wnflag=1
.option savecurrents
* .temp =140

.save
+@m.xm1.msky130_fd_pr__pfet_01v8[gm]
+@m.xm1.msky130_fd_pr__pfet_01v8[vth]
+@m.xm1.msky130_fd_pr__pfet_01v8[vgs]
+@m.xm1.msky130_fd_pr__pfet_01v8[vds]
+@m.xm2.msky130_fd_pr__pfet_01v8[gm]
+@m.xm2.msky130_fd_pr__pfet_01v8[vth]
+@m.xm2.msky130_fd_pr__pfet_01v8[vgs]
+@m.xm2.msky130_fd_pr__pfet_01v8[vds]
+@m.xm3.msky130_fd_pr__pfet_01v8[gm]
+@m.xm4.msky130_fd_pr__pfet_01v8[gm]
+@m.xm4.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm1.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm2.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm3.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm4.msky130_fd_pr__pfet_01v8[gm]
+@m.x1.xm5.msky130_fd_pr__pfet_01v8[gm]
+@m.x1.xm6.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm7.msky130_fd_pr__pfet_01v8[gm]
+@m.x2.xm1.msky130_fd_pr__nfet_01v8[gm]
+@m.x2.xm2.msky130_fd_pr__nfet_01v8[gm]
+@m.x2.xm3.msky130_fd_pr__nfet_01v8[gm]
+@m.x2.xm4.msky130_fd_pr__pfet_01v8[gm]
+@m.x2.xm5.msky130_fd_pr__pfet_01v8[gm]
+@m.x2.xm6.msky130_fd_pr__pfet_01v8[gm]
+@m.x2.xm7.msky130_fd_pr__pfet_01v8[gm]

* .ic v(vin-) = 0.8
* .ic v(vin+) = 0.8
* .ic v(v_top) = 1.8

.control

  * let start_vdd = 0.3 
  * let stop_vdd = 1.8
  * let delta_vdd = 0.3
  * let w_act = start_vdd
  * while w_act le stop_vdd
    * echo $&w_act
    * alter V1 = w_act
    * echo v[vdd]
    * alter @V1[pwl] = [ 0 0 1us 0 2us $&w_act ]
    * reset
    save all
    * run
    * dc temp -40 120 5 V1 1.6 2.0 0.05
    * dc V1 1.7 1.9 0.001 temp -40 120 40
    * dc V1 0 2.0 0.01 temp -40 120 40
    * dc V1 0 2.0 0.01
    tran 1ns 8us
    remzerovec
    write tb_low_voltage_BGR_8.raw
    * let w_act = w_act + delta_vdd
    set appendwrite
  * end

.endc

"}
C {devices/vdd.sym} 940 -1860 0 0 {name=l2 lab=VDD}
C {devices/gnd.sym} 1830 -870 3 1 {name=l6 lab=GND}
C {sky130_fd_pr/pfet_01v8.sym} 810 -1670 0 1 {name=M1
W=10
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1790 -1670 0 0 {name=M2
W=10
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 1960 -1620 2 0 {name=p2 sig_type=std_logic lab=Vbiasp}
C {lab_wire.sym} 1710 -1140 0 0 {name=p6 sig_type=std_logic lab=Vreg}
C {lab_wire.sym} 890 -1140 0 1 {name=p1 sig_type=std_logic lab=Vbiasn}
C {ammeter.sym} 790 -1260 0 0 {name=Vmeas savecurrent=true spice_ignore=0}
C {ammeter.sym} 1810 -1340 0 0 {name=Vmeas1 savecurrent=true spice_ignore=0}
C {sky130_fd_pr/nfet_01v8.sym} 140 -1170 0 1 {name=M5
W=5
L=5
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 140 -1670 0 1 {name=M6
W=10
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 120 -1600 2 1 {name=p7 sig_type=std_logic lab=start_up}
C {sky130_fd_pr/pfet_01v8.sym} 310 -1600 0 0 {name=M4
W=10
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {ngspice_get_value.sym} 1670 -1580 2 0 {name=r5 node=v(@m.xm2.msky130_fd_pr__pfet_01v8[vth])
descr="vth="}
C {lab_wire.sym} 790 -1450 2 0 {name=p3 sig_type=std_logic lab=V1}
C {lab_wire.sym} 1810 -1450 2 1 {name=p9 sig_type=std_logic lab=V2}
C {sky130_fd_pr/nfet_01v8.sym} 810 -1050 0 1 {name=M7
W=5
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1790 -1050 0 0 {name=M8
W=20
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/vdd.sym} 750 -530 0 0 {name=l1 lab=VDD}
C {devices/gnd.sym} 1080 -700 0 0 {name=l4 lab=GND}
C {ammeter.sym} 330 -1500 0 0 {name=Vmeas2 savecurrent=true spice_ignore=0}
C {ammeter.sym} 120 -1420 0 0 {name=Vmeas3 savecurrent=true spice_ignore=0}
C {sky130_fd_pr/nfet_01v8.sym} 1180 -1140 0 0 {name=M9
W=5
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1400 -1140 0 1 {name=M10
W=5
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1220 -1370 0 1 {name=M11
W=10
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1360 -1370 0 0 {name=M12
W=10
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 3060 -1380 0 0 {name=M3
W=10
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 3280 -1380 0 1 {name=M13
W=10
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3100 -1580 0 1 {name=M14
W=20
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3240 -1580 0 0 {name=M15
W=20
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 3500 -910 2 0 {name=p5 sig_type=std_logic lab=Vbe2}
C {sky130_fd_pr/pnp_05v5.sym} 2810 -780 0 0 {name=Q1
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 3480 -780 0 0 {name=Q2
model=pnp_05v5_W3p40L3p40
m=8
spiceprefix=X
}
C {devices/gnd.sym} 3520 -1030 3 1 {name=l7 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 3500 -1030 0 1 {name=R2
L=0.7
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} 2850 -1780 0 1 {name=M17
W=20
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3480 -1780 0 0 {name=M18
W=20
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 3760 -1030 3 1 {name=l8 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 3740 -1030 0 1 {name=R3
L=5.79
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {devices/gnd.sym} 2570 -1030 1 0 {name=l9 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2590 -1030 0 0 {name=R4
L=5.79
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} 4020 -1780 0 0 {name=M19
W=20
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 4060 -1030 3 1 {name=l10 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 4040 -1030 0 1 {name=R6
L=5.79
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {ammeter.sym} 2590 -1300 0 0 {name=Vmeas4 savecurrent=true spice_ignore=0}
C {ammeter.sym} 2830 -1300 0 0 {name=Vmeas5 savecurrent=true spice_ignore=0}
C {ammeter.sym} 3500 -1300 0 0 {name=Vmeas6 savecurrent=true spice_ignore=0}
C {ammeter.sym} 3740 -1300 0 0 {name=Vmeas7 savecurrent=true spice_ignore=0}
C {ammeter.sym} 2830 -1580 0 0 {name=Vmeas8 savecurrent=true spice_ignore=0}
C {ammeter.sym} 3500 -1580 0 0 {name=Vmeas9 savecurrent=true spice_ignore=0}
C {lab_wire.sym} 2960 -1380 0 0 {name=p4 sig_type=std_logic lab=Vin-}
C {lab_wire.sym} 3420 -1380 2 1 {name=p8 sig_type=std_logic lab=Vin+}
C {lab_wire.sym} 3260 -1490 0 1 {name=p10 sig_type=std_logic lab=opamp_mir}
C {lab_wire.sym} 2970 -1490 2 1 {name=p11 sig_type=std_logic lab=V_TOP}
C {lab_wire.sym} 4280 -1240 0 1 {name=p12 sig_type=std_logic lab=V_REF}
C {lab_wire.sym} 3150 -1310 2 1 {name=p14 sig_type=std_logic lab=V_p}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1810 -870 0 1 {name=R7
L=0.9
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/nfet_01v8.sym} 3180 -1250 0 0 {name=M16
W=10
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
