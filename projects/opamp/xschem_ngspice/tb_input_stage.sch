v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
B 2 2737.13051406096 -1740 3527.13051406096 -1260 {flags=graph
y1=2.9e-06
y2=1.9
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=12
divx=5
subdivx=8
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=1
logy=0











linewidth_mult=2


color=7
node=v_cm+}
B 2 470 -900 820 -640 {flags=graph

y2=1.5
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=1.3







color=6
node=vg1}
B 2 -1060 -530 -690 -280 {flags=graph

y2=7.8e-05
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=7.7e-05





color=4
node=i(@m.xm59.msky130_fd_pr__pfet_01v8[id])}
B 2 -1750 -890 -1380 -640 {flags=graph

y2=0.906
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=0.896






color=4
node=v_ref}
B 2 -1750 -600 -1380 -350 {flags=graph

y2=5.4e-06
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=5.3e-06





color=4
node=i(@m.xm58.msky130_fd_pr__pfet_01v8[id])}
B 2 -510 -420 -140 -170 {flags=graph

y2=1.2
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=1.1





color="4 4"
node="i
v_cur_ref_reg"}
B 2 2737.13051406096 -560 3527.13051406096 -80 {flags=graph
y1=1.2
y2=1.3
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2


color="7 6"
node="v_cm+
v_cm-"}
B 2 3577.13051406096 -560 4367.13051406096 -80 {flags=graph
y1=1.2385523
y2=1.241367
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2



color="7 6"
node="opamp_vin+
opamp_vin-"}
B 2 2737.13051406096 0 3527.13051406096 480 {flags=graph
y1=-0.0021
y2=0.0019
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2


color=7
node="\\"v_cm+ v_cm- - \\""}
B 2 3577.13051406096 0 4367.13051406096 480 {flags=graph
y1=-0.002
y2=0.002
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2



color=7
node="\\"opamp_vin+ opamp_vin- -\\""}
B 2 1760 -900 2110 -640 {flags=graph

y2=1.58
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2
























y1=1.38







color=6
node=vg1}
B 2 2737.13051406096 -1110 3527.13051406096 -630 {flags=graph
y1=1.3e-05
y2=0.78
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2



color="7 6"
node="v4_p1
v4_p2"}
B 2 1847.13051406096 0 2637.13051406096 480 {flags=graph
y1=0.77
y2=0.79
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=1
x2=1e+12
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0











linewidth_mult=2


color=7
node=v_mir_gate_2}
N 50 120 50 150 {
lab=VDD}
N 310 -310 310 -200 {lab=GND}
N 310 -420 390 -420 {lab=v_mir_1}
N 390 -420 390 -340 {lab=v_mir_1}
N 350 -340 390 -340 {lab=v_mir_1}
N 260 -340 310 -340 {lab=GND}
N 390 -340 530 -340 {lab=v_mir_1}
N 260 -340 260 -280 {lab=GND}
N 260 -280 310 -280 {lab=GND}
N 1130 -340 1180 -340 {lab=GND}
N 1180 -340 1180 -280 {lab=GND}
N 1130 -280 1180 -280 {lab=GND}
N 590 -340 1090 -340 {lab=v_mir_gate_1}
N 1130 -830 1130 -370 {lab=V_cm+}
N 1130 -1150 1130 -1050 {lab=VDD}
N 770 -600 770 -500 {lab=opamp_Vin-}
N 770 -440 770 -340 {lab=v_mir_gate_1}
N 310 -670 310 -540 {lab=vg1}
N 310 -480 310 -370 {lab=v_mir_1}
N 350 -510 560 -510 {lab=vg1}
N 560 -510 560 -380 {lab=vg1}
N 310 -590 390 -590 {lab=vg1}
N 390 -590 390 -510 {lab=vg1}
N 310 -280 560 -280 {lab=GND}
N 560 -340 560 -280 {lab=GND}
N 260 -510 260 -340 {lab=GND}
N 260 -510 310 -510 {lab=GND}
N 1130 -1020 1200 -1020 {lab=VDD}
N 1200 -1090 1200 -1020 {lab=VDD}
N 1130 -1090 1200 -1090 {lab=VDD}
N 990 -940 990 -890 {lab=v4_p1}
N 990 -1060 990 -940 {lab=v4_p1}
N 990 -1150 990 -1120 {lab=VDD}
N 1130 -310 1130 -280 {lab=GND}
N 1130 -520 1180 -520 {lab=V_cm+}
N 990 -890 1030 -890 {lab=v4_p1}
N 1130 -990 1130 -830 {lab=V_cm+}
N 1090 -890 1130 -890 {lab=V_cm+}
N 990 -1150 1130 -1150 {lab=VDD}
N 990 -1020 1090 -1020 {lab=v4_p1}
N 990 -780 1050 -780 {lab=GND}
N 890 -780 950 -780 {lab=nfet_gate_10uA}
N 990 -750 990 -680 {lab=GND}
N 1050 -780 1050 -680 {lab=GND}
N 990 -680 1050 -680 {lab=GND}
N 310 -800 310 -730 {lab=#net1}
N 310 -700 370 -700 {lab=VDD}
N 210 -700 270 -700 {lab=pfet_gate_10uA}
N 370 -830 370 -700 {lab=VDD}
N 310 -930 310 -860 {lab=VDD}
N 310 -830 370 -830 {lab=VDD}
N 210 -830 270 -830 {lab=pfet_gate_10uA}
N 210 -830 210 -700 {lab=pfet_gate_10uA}
N 310 -930 370 -930 {lab=VDD}
N 370 -930 370 -830 {lab=VDD}
N 310 100 310 170 {lab=opamp_Vin-}
N 500 100 500 170 {lab=opamp_Vin+}
N -1590 -1090 -1320 -1090 {lab=V_TOP}
N -240 -940 -240 -890 {lab=VDD}
N -240 -860 -190 -860 {lab=VDD}
N -190 -920 -190 -860 {lab=VDD}
N -240 -920 -190 -920 {lab=VDD}
N -370 -860 -280 -860 {lab=pfet_gate_10uA}
N -240 -560 -240 -500 {lab=GND}
N -290 -530 -240 -530 {lab=GND}
N -290 -590 -290 -530 {lab=GND}
N -290 -590 -240 -590 {lab=GND}
N -240 -830 -240 -620 {lab=nfet_gate_10uA}
N -170 -660 -170 -590 {lab=nfet_gate_10uA}
N -240 -660 -170 -660 {lab=nfet_gate_10uA}
N -200 -590 -70 -590 {lab=nfet_gate_10uA}
N -1280 -310 -1280 -200 {lab=GND}
N -1280 -1200 -1280 -1120 {
lab=VDD}
N -1280 -1090 -1240 -1090 {lab=VDD}
N -1240 -1160 -1240 -1090 {lab=VDD}
N -1280 -1160 -1240 -1160 {lab=VDD}
N -1280 -900 -1180 -900 {lab=V_REF}
N -1280 -1060 -1280 -370 {lab=V_REF}
N -580 -880 -540 -880 {lab=VDD}
N -540 -950 -540 -880 {lab=VDD}
N -580 -950 -540 -950 {lab=VDD}
N -830 -880 -620 -880 {lab=pfet_gate_10uA}
N -1050 -860 -960 -860 {lab=V_CUR_REF_REG}
N -1050 -860 -1050 -600 {lab=V_CUR_REF_REG}
N -1050 -600 -580 -600 {lab=V_CUR_REF_REG}
N -580 -850 -580 -520 {lab=V_CUR_REF_REG}
N -1180 -900 -960 -900 {lab=V_REF}
N -1280 -1200 -580 -1200 {lab=VDD}
N -580 -1200 -580 -910 {lab=VDD}
N -1280 -200 -580 -200 {lab=GND}
N -580 -460 -580 -200 {lab=GND}
N -680 -880 -680 -780 {lab=pfet_gate_10uA}
N -680 -780 -500 -780 {lab=pfet_gate_10uA}
N -1400 -1110 -1400 -1090 {lab=V_TOP}
N -1400 -1200 -1400 -1170 {lab=VDD}
N -1400 -1200 -1280 -1200 {lab=VDD}
N -710 -1010 -710 -880 {lab=pfet_gate_10uA}
N -710 -1200 -710 -1070 {lab=VDD}
N -710 -880 -710 -740 {lab=pfet_gate_10uA}
N -710 -690 -580 -690 {lab=V_CUR_REF_REG}
N -1400 -980 -1280 -980 {lab=V_REF}
N -1400 -1090 -1400 -1040 {lab=V_TOP}
N 1600 -310 1600 -200 {lab=GND}
N 1600 -420 1680 -420 {lab=v_mir_2}
N 1680 -420 1680 -340 {lab=v_mir_2}
N 1640 -340 1680 -340 {lab=v_mir_2}
N 1550 -340 1600 -340 {lab=GND}
N 1680 -340 1820 -340 {lab=v_mir_2}
N 1550 -340 1550 -280 {lab=GND}
N 1550 -280 1600 -280 {lab=GND}
N 2420 -340 2470 -340 {lab=GND}
N 2470 -340 2470 -280 {lab=GND}
N 2420 -280 2470 -280 {lab=GND}
N 1880 -340 2380 -340 {lab=v_mir_gate_2}
N 2420 -830 2420 -370 {lab=V_cm-}
N 2420 -1150 2420 -1050 {lab=VDD}
N 2060 -600 2060 -500 {lab=opamp_Vin+}
N 2060 -440 2060 -340 {lab=v_mir_gate_2}
N 1600 -670 1600 -540 {lab=vg2}
N 1600 -480 1600 -370 {lab=v_mir_2}
N 1640 -510 1850 -510 {lab=vg2}
N 1850 -510 1850 -380 {lab=vg2}
N 1600 -590 1680 -590 {lab=vg2}
N 1680 -590 1680 -510 {lab=vg2}
N 1600 -280 1850 -280 {lab=GND}
N 1850 -340 1850 -280 {lab=GND}
N 1550 -510 1550 -340 {lab=GND}
N 1550 -510 1600 -510 {lab=GND}
N 2420 -1020 2490 -1020 {lab=VDD}
N 2490 -1090 2490 -1020 {lab=VDD}
N 2420 -1090 2490 -1090 {lab=VDD}
N 2280 -940 2280 -890 {lab=v4_p2}
N 2280 -1060 2280 -940 {lab=v4_p2}
N 2280 -1150 2280 -1120 {lab=VDD}
N 2420 -310 2420 -280 {lab=GND}
N 2420 -520 2470 -520 {lab=V_cm-}
N 2280 -890 2320 -890 {lab=v4_p2}
N 2420 -990 2420 -830 {lab=V_cm-}
N 2380 -890 2420 -890 {lab=V_cm-}
N 2280 -1150 2420 -1150 {lab=VDD}
N 2280 -1020 2380 -1020 {lab=v4_p2}
N 2280 -780 2340 -780 {lab=GND}
N 2180 -780 2240 -780 {lab=nfet_gate_10uA}
N 2280 -750 2280 -680 {lab=GND}
N 2340 -780 2340 -680 {lab=GND}
N 2280 -680 2340 -680 {lab=GND}
N 1600 -800 1600 -730 {lab=#net2}
N 1600 -700 1660 -700 {lab=VDD}
N 1500 -700 1560 -700 {lab=pfet_gate_10uA}
N 1660 -830 1660 -700 {lab=VDD}
N 1600 -930 1600 -860 {lab=VDD}
N 1600 -830 1660 -830 {lab=VDD}
N 1500 -830 1560 -830 {lab=pfet_gate_10uA}
N 1500 -830 1500 -700 {lab=pfet_gate_10uA}
N 1600 -930 1660 -930 {lab=VDD}
N 1660 -930 1660 -830 {lab=VDD}
N 2280 -890 2280 -810 {lab=v4_p2}
N 990 -890 990 -810 {lab=v4_p1}
C {devices/vsource.sym} 50 180 0 0 {name=VDDA value=1.8 savecurrent=false}
C {devices/gnd.sym} 50 210 0 0 {name=l1 lab=GND}
C {sky130_fd_pr/corner.sym} 20 410 0 0 {name=CORNER only_toplevel=false corner=tt}
C {vdd.sym} 50 120 0 0 {name=l2 lab=VDD}
C {simulator_commands_shown.sym} 800 130 0 0 {name=COMMANDS
simulator=ngspice
only_toplevel=false 
value="

.option wnflag=1
.option savecurrents

* .param VDDGAUSS = agauss(1.8, 0.05, 1)
* .param VDD = VDDGAUSS
* .param VDD = 1.8

* .param TEMPGAUSS = agauss(40, 30, 1)
* .param temp = TEMPGAUSS
* .option temp = 26

.save
+@m.xm1.msky130_fd_pr__pfet_01v8[gm]
+@m.xm1.msky130_fd_pr__pfet_01v8[vds]
+@m.xm1.msky130_fd_pr__pfet_01v8[vth]
+@m.xm2.msky130_fd_pr__pfet_01v8[gm]
+@m.xm2.msky130_fd_pr__pfet_01v8[vds]
+@m.xm2.msky130_fd_pr__pfet_01v8[vth]
+@m.xm3.msky130_fd_pr__nfet_01v8[gm]
+@m.xm3.msky130_fd_pr__nfet_01v8[vds]
+@m.xm3.msky130_fd_pr__nfet_01v8[vth]
+@m.xm4.msky130_fd_pr__nfet_01v8[gm]
+@m.xm4.msky130_fd_pr__nfet_01v8[vds]
+@m.xm4.msky130_fd_pr__nfet_01v8[vth]
+@m.xm5.msky130_fd_pr__pfet_01v8[gm]
+@m.xm5.msky130_fd_pr__pfet_01v8[vds]
+@m.xm5.msky130_fd_pr__pfet_01v8[vth]
+@m.xm6.msky130_fd_pr__pfet_01v8[gm]
+@m.xm6.msky130_fd_pr__pfet_01v8[vds]
+@m.xm6.msky130_fd_pr__pfet_01v8[vth]
+@m.xm7.msky130_fd_pr__pfet_01v8[gm]
+@m.xm7.msky130_fd_pr__pfet_01v8[vds]
+@m.xm7.msky130_fd_pr__pfet_01v8[vth]
+@m.xm8.msky130_fd_pr__pfet_01v8[gm]
+@m.xm8.msky130_fd_pr__pfet_01v8[vds]
+@m.xm8.msky130_fd_pr__pfet_01v8[vth]

.control

  save all
  
  * tran 1000p 2000n
  * tran 100p 2u
  * tran 20n 0.2m
  ac dec 20 1 1T
  write tb_input_stage.raw
  set appendwrite
  show

.endc

"}
C {gnd.sym} 310 -210 0 1 {name=l50 lab=GND}
C {gnd.sym} 1130 -280 0 0 {name=l51 lab=GND}
C {sky130_fd_pr/cap_mim_m3_1.sym} 770 -470 2 0 {name=C3 model=cap_mim_m3_1 W=100 L=100 MF=1 spiceprefix=X}
C {lab_wire.sym} 390 -420 0 1 {name=p58 sig_type=std_logic lab=v_mir_1}
C {lab_wire.sym} 770 -340 2 0 {name=p69 sig_type=std_logic lab=v_mir_gate_1}
C {lab_wire.sym} 560 -510 0 1 {name=p79 sig_type=std_logic lab=vg1}
C {sky130_fd_pr/nfet_01v8.sym} 330 -510 0 1 {name=M60
W=10
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 330 -340 0 1 {name=M61
W=1
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 560 -360 3 1 {name=M62
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1110 -340 0 0 {name=M63
W=1
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1110 -1020 0 0 {name=M68
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 1130 -1150 0 1 {name=l52 lab=VDD}
C {devices/gnd.sym} 1060 -870 0 0 {name=l53 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1060 -890 3 0 {name=R25
L=4
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {lab_pin.sym} 770 -600 0 0 {name=p80 sig_type=std_logic lab=opamp_Vin-}
C {lab_wire.sym} 990 -890 2 1 {name=p82 sig_type=std_logic lab=v4_p1}
C {lab_wire.sym} 1180 -520 0 1 {name=p89 sig_type=std_logic lab=V_cm+}
C {gnd.sym} 990 -680 0 0 {name=l63 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 970 -780 0 0 {name=M79
W=1
L=0.2
nf=1 
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 890 -780 0 0 {name=p94 sig_type=std_logic lab=nfet_gate_10uA}
C {vdd.sym} 310 -930 0 0 {name=l49 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 290 -700 0 0 {name=M78
W=1
L=0.2
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 210 -700 0 0 {name=p93 sig_type=std_logic lab=pfet_gate_10uA}
C {sky130_fd_pr/pfet_01v8.sym} 290 -830 0 0 {name=M81
W=1
L=0.2
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 310 230 0 0 {name=l13 lab=GND}
C {devices/vsource.sym} 310 200 0 1 {name=V2 value="1.24 AC 1" savecurrent=false
* "sin(1.24 -0.001 1k)"
* "sin(1.24 -0.001 10k)"
* "sin(1.24 -0.001 1Meg)"}
C {lab_pin.sym} 310 150 0 0 {name=p53 sig_type=std_logic lab=opamp_Vin-}
C {devices/gnd.sym} 500 230 0 0 {name=l36 lab=GND
value="sin(1.20 0.001 1Meg)"}
C {devices/vsource.sym} 500 200 0 0 {name=V1 value="1.24 AC 1" savecurrent=false
* "sin(1.24 0.001 1k)"
* "sin(1.24 0.001 10k)"
* "sin(1.24 0.001 1Meg)"}
C {lab_pin.sym} 500 150 0 1 {name=p52 sig_type=std_logic lab=opamp_Vin+}
C {devices/vdd.sym} -1660 -1160 0 0 {name=l9 lab=VDD}
C {devices/gnd.sym} -1660 -1020 0 0 {name=l10 lab=GND}
C {sky130_fd_pr/pfet_01v8.sym} -260 -860 0 0 {name=M42
W=1
L=0.2
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/vdd.sym} -240 -940 0 0 {name=l41 lab=VDD}
C {devices/gnd.sym} -240 -500 0 0 {name=l42 lab=GND}
C {lab_wire.sym} -70 -590 0 1 {name=p60 sig_type=std_logic lab=nfet_gate_10uA}
C {sky130_fd_pr/pfet_01v8.sym} -1300 -1090 0 0 {name=M58
W=10
L=0.3
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} -1280 -340 0 1 {name=R20
L=32
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {devices/vdd.sym} -900 -820 2 0 {name=l18 lab=VDD}
C {devices/gnd.sym} -900 -940 2 0 {name=l44 lab=GND
W=4}
C {devices/gnd.sym} -600 -490 1 0 {name=l45 lab=GND
}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} -580 -490 0 0 {name=R21
L=8
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} -600 -880 0 0 {name=M59
W=1
L=0.2
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} -580 -600 0 1 {name=p76 sig_type=std_logic lab=V_CUR_REF_REG}
C {lab_wire.sym} -1180 -900 0 1 {name=p77 sig_type=std_logic lab=V_REF}
C {lab_wire.sym} -500 -780 0 1 {name=p78 sig_type=std_logic lab=pfet_gate_10uA}
C {devices/gnd.sym} -940 -200 0 0 {name=l46 lab=GND}
C {devices/gnd.sym} -1260 -340 3 0 {name=l47 lab=GND}
C {devices/vdd.sym} -930 -1200 0 0 {name=l48 lab=VDD}
C {/foss/designs/my_design/projects/bandgapref/xschem_ngspice/new_files/BGR_vtop_out.sym} -1660 -1090 0 0 {name=x1}
C {/foss/designs/my_design/projects/bandgapref/xschem_ngspice/new_files/opamp_bandgap_2.sym} -900 -880 2 1 {name=x2}
C {lab_wire.sym} -1510 -1090 0 1 {name=p81 sig_type=std_logic lab=V_TOP}
C {lab_wire.sym} -370 -860 0 0 {name=p59 sig_type=std_logic lab=pfet_gate_10uA}
C {sky130_fd_pr/cap_mim_m3_1.sym} -1400 -1010 0 0 {name=C1 model=cap_mim_m3_1 W=10 L=10 MF=1 spiceprefix=X}
C {sky130_fd_pr/nfet_01v8.sym} -220 -590 0 1 {name=M20
W=1
L=0.2
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/cap_mim_m3_1.sym} -1400 -1140 0 0 {name=C4 model=cap_mim_m3_1 W=10 L=10 MF=1 spiceprefix=X}
C {gnd.sym} 1600 -210 0 1 {name=l3 lab=GND}
C {gnd.sym} 2420 -280 0 0 {name=l4 lab=GND}
C {sky130_fd_pr/cap_mim_m3_1.sym} 2060 -470 2 0 {name=C2 model=cap_mim_m3_1 W=100 L=100 MF=1 spiceprefix=X}
C {lab_wire.sym} 1680 -420 0 1 {name=p1 sig_type=std_logic lab=v_mir_2}
C {lab_wire.sym} 2060 -340 2 0 {name=p2 sig_type=std_logic lab=v_mir_gate_2}
C {lab_wire.sym} 1850 -510 0 1 {name=p3 sig_type=std_logic lab=vg2}
C {sky130_fd_pr/nfet_01v8.sym} 1620 -510 0 1 {name=M1
W=10
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1620 -340 0 1 {name=M2
W=1
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1850 -360 3 1 {name=M3
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 2400 -340 0 0 {name=M4
W=1
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 2400 -1020 0 0 {name=M5
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 2420 -1150 0 1 {name=l5 lab=VDD}
C {devices/gnd.sym} 2350 -870 0 0 {name=l6 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2350 -890 3 0 {name=R1
L=4
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {lab_pin.sym} 2060 -600 0 0 {name=p4 sig_type=std_logic lab=opamp_Vin+}
C {lab_wire.sym} 2280 -890 2 1 {name=p5 sig_type=std_logic lab=v4_p2}
C {lab_wire.sym} 2470 -520 0 1 {name=p6 sig_type=std_logic lab=V_cm-}
C {gnd.sym} 2280 -680 0 0 {name=l7 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 2260 -780 0 0 {name=M6
W=1
L=0.2
nf=1 
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 2180 -780 0 0 {name=p7 sig_type=std_logic lab=nfet_gate_10uA}
C {vdd.sym} 1600 -930 0 0 {name=l8 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 1580 -700 0 0 {name=M7
W=1
L=0.2
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 1500 -700 0 0 {name=p8 sig_type=std_logic lab=pfet_gate_10uA}
C {sky130_fd_pr/pfet_01v8.sym} 1580 -830 0 0 {name=M8
W=1
L=0.2
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
