v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
B 2 4030 -1580 4200 -1490 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"@m.xm14.msky130_fd_pr__nfet_01v8[vth] @m.xm13.msky130_fd_pr__nfet_01v8[vth] -\\""}
B 2 3650 -1430 3820 -1340 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vs14 v_p - \\""}
B 2 3460 -1430 3630 -1340 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vb1 v_p -\\""}
B 2 3840 -1430 4010 -1340 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vb1 v_p @m.xm13.msky130_fd_pr__nfet_01v8[vth] + -\\""}
B 2 3650 -1580 3820 -1490 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vb1 vs14 - \\""}
B 2 3460 -1580 3630 -1490 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vb1 vs14 -\\""}
B 2 3840 -1580 4010 -1490 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vb1 vs14 @m.xm14.msky130_fd_pr__nfet_01v8[vth] + -\\""}
B 2 1080 -2440 1250 -2320 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd vb2 -\\""}
B 2 1060 -2660 1230 -2570 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"v1 vb2 @m.xm15.msky130_fd_pr__pfet_01v8[vth] + - \\""}
B 2 710 -2660 880 -2570 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"@m.xm17.msky130_fd_pr__pfet_01v8[vth] @m.xm15.msky130_fd_pr__pfet_01v8[vth] -\\""}
B 2 710 -2870 880 -2780 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vdd v1 -\\""}
B 2 970 -2800 1140 -2710 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd vb2 @m.xm17.msky130_fd_pr__pfet_01v8[vth] + - \\""}
B 2 1870 -2660 2040 -2540 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd vb3 -\\""}
B 2 1450 -2650 1620 -2560 {flags=graph
y1=0.884
y2=0.904
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"@m.xm18.msky130_fd_pr__pfet_01v8[vth] @m.xm16.msky130_fd_pr__pfet_01v8[vth] -\\""}
B 2 1450 -2820 1620 -2730 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vdd v2 -\\""}
B 2 1870 -2810 2040 -2720 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd vb3 @m.xm18.msky130_fd_pr__pfet_01v8[vth] + - \\""}
B 2 700 -2430 870 -2340 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"v1 vb2 - \\""}
B 2 1870 -2420 2040 -2330 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"v2 vb2 @m.xm16.msky130_fd_pr__pfet_01v8[vth] + - \\""}
B 2 1480 -2420 1650 -2330 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"v2 vb3 - \\""}
B 2 2310 -2590 2480 -2470 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd vd7 -\\""}
B 2 2130 -2300 2300 -2180 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vd7 vb2 -\\""}
B 2 1940 -2300 2110 -2180 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vd7 x -\\""}
B 2 2320 -2100 2490 -1980 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd x -\\""}
B 2 2320 -2300 2490 -2180 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vd7 vb2 @m.xm5.msky130_fd_pr__pfet_01v8[vth] + -\\""}
B 2 3490 -2090 3660 -1970 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd y -\\""}
B 2 3260 -950 3380 -860 {flags=graph
y1=0.72
y2=0.73
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"err_opamp_out @m.xm27.msky130_fd_pr__nfet_01v8[vth] - \\""}
B 2 2640 -950 2860 -860 {flags=graph
y1=0.72
y2=0.73
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vgs9 @m.xm9.msky130_fd_pr__nfet_01v8[vth] - \\""}
B 2 1680 -970 1850 -880 {flags=graph
y1=0.72
y2=0.73
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vgs9 @m.xm10.msky130_fd_pr__nfet_01v8[vth] - \\""}
B 2 2350 -1480 2520 -1390 {flags=graph
y1=0.72
y2=0.73
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"vin_cm v_p @m.xm1.msky130_fd_pr__nfet_01v8[vth] + - \\""}
B 2 2440 -1750 2610 -1630 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vb1 vd1 @m.xm3.msky130_fd_pr__nfet_01v8[vth] + -\\""}
B 2 5540 -1420 5710 -1300 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd y -\\""}
B 2 4110 -3230 5120 -2500 {flags=graph
y1=-0.16
y2=0.024
ypos1=0
ypos2=2
divy=5
subdivy=8
unity=1
x1=0
x2=0.004
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=1
linewidth_mult=1


color="7 6 11"
node="x
y
v_tot"
autoload=0}
B 2 4110 -2440 5120 -1710 {flags=graph
y1=-0.36
y2=0.36
ypos1=0
ypos2=2
divy=5
subdivy=4
unity=1
x1=0
x2=0.004
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1


color=6
node="\\"x y -\\""}
B 2 4110 -4030 5120 -3300 {flags=graph
y1=0.056
y2=0.058
ypos1=0
ypos2=2
divy=5
subdivy=8
unity=1
x1=0
x2=0.004
divx=5
subdivx=4
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=1
linewidth_mult=1


color=6
node=vin+}
B 2 3460 -1750 3630 -1650 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vb1 vd2 @m.xm4.msky130_fd_pr__nfet_01v8[vth] + -\\""}
B 2 3490 -2300 3660 -2180 {flags=graph
y1=0.16
y2=0.18
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vd6 vb2 @m.xm6.msky130_fd_pr__pfet_01v8[vth] + -\\""}
B 2 3830 -2960 4000 -2840 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vdd vd6 -\\""}
B 2 3830 -2820 4000 -2700 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vd6 y -\\""}
B 2 3830 -2680 4000 -2560 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"y vd2 -\\""}
B 2 3830 -2540 4000 -2420 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"vd2 v_p -\\""}
B 2 3830 -2400 4000 -2280 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node=v_p}
B 2 3710 -2090 3880 -1970 {flags=graph
y1=0.72
y2=1.2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node=y}
B 2 3710 -1950 3880 -1830 {flags=graph
y1=0.72
y2=1.2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node=x}
B 2 3630 -2680 3800 -2560 {flags=graph
y1=0.88
y2=0.9
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=0.004
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=0
unitx=1
logx=0
logy=0
linewidth_mult=1

color=6
node="\\"v_tot y -\\""}
T {VTH14-VTH13} 4060 -1480 0 0 0.3 0.3 {}
T {VDS13} 3710 -1330 0 0 0.3 0.3 {}
T {VGS13} 3520 -1330 0 0 0.3 0.3 {}
T {Vin_CM=V_p+VGS1
   =220mV+850mV
   =1070mV

   =187mV+883mV
   =1070mV} 2170 -1310 0 0 0.3 0.3 {}
T {Vb1=V_p+VDS1+VGS3
   =220mV+220mV+850mV
   =1290mV

   =220mV+220mV+923mV
   =1363mV

} 2290 -1930 0 0 0.3 0.3 {}
T {Vb2=VDD-VDS7+VGS5
   =1800V-440mV-1050mV
   =310mV} 2260 -2390 0 0 0.3 0.3 {}
T {Vb3=VDD-VGS7
   =1800V-1050mV
   =750mV} 2260 -2870 0 0 0.3 0.3 {}
T {VGS13-VTH13} 3870 -1330 0 0 0.3 0.3 {}
T {VDS14} 3710 -1480 0 0 0.3 0.3 {}
T {VGS14} 3520 -1480 0 0 0.3 0.3 {}
T {VGS14-VTH14} 3870 -1480 0 0 0.3 0.3 {}
T {VDS17} 660 -2840 0 0 0.3 0.3 {}
T {VGS17-VTH17} 1150 -2770 0 0 0.3 0.3 {}
T {VTH17-VTH15} 600 -2620 0 0 0.3 0.3 {}
T {VGS15-VTH15} 1100 -2560 0 0 0.3 0.3 {}
T {VDS15} 650 -2400 0 0 0.3 0.3 {}
T {VDS18} 1390 -2780 0 0 0.3 0.3 {}
T {VGS18-VTH18} 2060 -2780 0 0 0.3 0.3 {}
T {VTH18-VTH16} 1330 -2610 0 0 0.3 0.3 {}
T {VGS16-VTH16} 2050 -2380 0 0 0.3 0.3 {}
T {VDS16} 1540 -2320 0 0 0.3 0.3 {}
T {Vb2} 1150 -2310 0 0 0.3 0.3 {}
T {Vb3} 2050 -2610 0 0 0.3 0.3 {}
T {VGS5} 2190 -2170 0 0 0.3 0.3 {}
T {VDS5} 2000 -2170 0 0 0.3 0.3 {}
T {VGS5} 2380 -1970 0 0 0.3 0.3 {}
T {VGS5-VTH5} 2360 -2170 0 0 0.3 0.3 {}
T {VGS27-VTH27} 3290 -850 0 0 0.3 0.3 {}
T {VGS3-VTH3} 2480 -1620 0 0 0.3 0.3 {}
T {VGS1-VTH1} 2400 -1380 0 0 0.3 0.3 {}
T {VGS4-VTH4} 3500 -1640 0 0 0.3 0.3 {}
T {VGS6-VTH6} 3530 -2170 0 0 0.3 0.3 {}
N 2620 -1220 2620 -1130 {lab=V_p}
N 2620 -1130 3370 -1130 {lab=V_p}
N 3370 -1220 3370 -1130 {lab=V_p}
N 2620 -1830 2620 -1280 {lab=VD1}
N 3370 -1830 3370 -1280 {lab=VD2}
N 2660 -1860 3330 -1860 {lab=Vb1}
N 2620 -2190 2620 -1890 {lab=X}
N 3370 -2190 3370 -1890 {lab=Y}
N 2620 -2610 2620 -2250 {lab=VD7}
N 3370 -2610 3370 -2250 {lab=VD6}
N 2660 -2220 3330 -2220 {lab=Vb2}
N 3370 -2220 3440 -2220 {lab=VD6}
N 3440 -2290 3440 -2220 {lab=VD6}
N 3370 -2290 3440 -2290 {lab=VD6}
N 2550 -2220 2620 -2220 {lab=VD7}
N 2550 -2290 2550 -2220 {lab=VD7}
N 2550 -2290 2620 -2290 {lab=VD7}
N 2620 -2790 2620 -2670 {lab=VDD}
N 3370 -2790 3370 -2670 {lab=VDD}
N 2660 -2640 3330 -2640 {lab=Vb3}
N 3370 -2640 3440 -2640 {lab=VDD}
N 3440 -2710 3440 -2640 {lab=VDD}
N 3370 -2710 3440 -2710 {lab=VDD}
N 2550 -2640 2620 -2640 {lab=VDD}
N 2550 -2710 2550 -2640 {lab=VDD}
N 2550 -2710 2620 -2710 {lab=VDD}
N 2620 -2790 3370 -2790 {lab=VDD}
N 2570 -1860 2620 -1860 {lab=GND}
N 2570 -1860 2570 -1800 {lab=GND}
N 2570 -1800 3430 -1800 {lab=GND}
N 3430 -1860 3430 -1800 {lab=GND}
N 3370 -1860 3430 -1860 {lab=GND}
N 2800 -2850 2800 -2790 {lab=VDD}
N 3070 -1250 3370 -1250 {lab=GND}
N 2620 -1250 3070 -1250 {lab=GND}
N 2920 -1130 2920 -1020 {lab=V_p}
N 3070 -1250 3070 -990 {lab=GND}
N 2920 -990 3070 -990 {lab=GND}
N 2920 -960 2920 -870 {lab=GND}
N 2920 -910 3070 -910 {lab=GND}
N 3070 -990 3070 -910 {lab=GND}
N 2400 -1250 2400 -1150 {lab=Vin-}
N 2400 -1250 2580 -1250 {lab=Vin-}
N 3410 -1250 3500 -1250 {lab=Vin+}
N 3070 -1800 3070 -1250 {lab=GND}
N 1620 -1130 1620 -1020 {lab=V_p_mir}
N 1540 -990 1620 -990 {lab=GND}
N 1620 -960 1620 -870 {lab=GND}
N 1540 -910 1620 -910 {lab=GND}
N 1540 -990 1540 -910 {lab=GND}
N 1660 -990 2880 -990 {lab=VGS9}
N 1620 -1720 1620 -1660 {lab=VDD}
N 1700 -1250 1790 -1250 {lab=GND}
N 1460 -1250 1700 -1250 {lab=GND}
N 1460 -1220 1460 -1130 {lab=V_p_mir}
N 1460 -1130 1790 -1130 {lab=V_p_mir}
N 1790 -1220 1790 -1130 {lab=V_p_mir}
N 1540 -1250 1540 -990 {lab=GND}
N 1460 -1400 1460 -1280 {lab=VGS9}
N 1460 -1400 1790 -1400 {lab=VGS9}
N 1790 -1400 1790 -1280 {lab=VGS9}
N 1620 -1600 1620 -1400 {lab=VGS9}
N 1830 -1250 1900 -1250 {lab=Vin+}
N 1350 -1250 1420 -1250 {lab=Vin-}
N 1620 -1520 2020 -1520 {lab=VGS9}
N 2020 -1520 2020 -990 {lab=VGS9}
N 2920 -1510 2920 -1430 {lab=VS14}
N 2920 -1540 3070 -1540 {lab=GND}
N 2920 -1400 3070 -1400 {lab=GND}
N 2920 -1370 2920 -1130 {lab=V_p}
N 2920 -1860 2920 -1570 {lab=Vb1}
N 2790 -1400 2880 -1400 {lab=Vb1}
N 2790 -1660 2790 -1400 {lab=Vb1}
N 2790 -1660 2920 -1660 {lab=Vb1}
N 2790 -1540 2880 -1540 {lab=Vb1}
N 2920 -2430 2920 -1860 {lab=Vb1}
N 2920 -2790 2920 -2490 {lab=VDD}
N 930 -2450 930 -2330 {lab=Vb2}
N 1710 -2450 1710 -2330 {lab=Vb3}
N 930 -2660 930 -2510 {lab=V1}
N 1710 -2660 1710 -2510 {lab=V2}
N 1640 -2480 1710 -2480 {lab=V2}
N 1640 -2550 1640 -2480 {lab=V2}
N 1640 -2550 1710 -2550 {lab=V2}
N 860 -2480 930 -2480 {lab=V1}
N 860 -2550 860 -2480 {lab=V1}
N 860 -2550 930 -2550 {lab=V1}
N 930 -2840 930 -2720 {lab=VDD}
N 1710 -2840 1710 -2720 {lab=VDD}
N 1640 -2690 1710 -2690 {lab=VDD}
N 1640 -2760 1640 -2690 {lab=VDD}
N 1640 -2760 1710 -2760 {lab=VDD}
N 860 -2690 930 -2690 {lab=VDD}
N 860 -2760 860 -2690 {lab=VDD}
N 860 -2760 930 -2760 {lab=VDD}
N 1130 -2900 1130 -2840 {lab=VDD}
N 930 -2840 1710 -2840 {lab=VDD}
N 970 -2690 1050 -2690 {lab=Vb2}
N 970 -2480 1050 -2480 {lab=Vb2}
N 1750 -2690 1830 -2690 {lab=Vb3}
N 1830 -2690 1830 -2380 {lab=Vb3}
N 1710 -2380 1830 -2380 {lab=Vb3}
N 1050 -2690 1050 -2380 {lab=Vb2}
N 930 -2380 1050 -2380 {lab=Vb2}
N 1750 -2480 1910 -2480 {lab=Vb2}
N 5910 -1860 5910 -1810 {lab=VDD}
N 5910 -1650 5910 -1590 {lab=GND}
N 5910 -1750 5910 -1710 {lab=#net1}
N 5910 -2270 5910 -2220 {lab=GND}
N 5910 -2380 5910 -2330 {lab=#net2}
N 5750 -2300 5870 -2300 {lab=X}
N 5750 -2300 5750 -1780 {lab=X}
N 5750 -1780 5870 -1780 {lab=X}
N 6570 -2300 6690 -2300 {lab=Y}
N 6690 -2300 6690 -1780 {lab=Y}
N 6570 -1780 6690 -1780 {lab=Y}
N 5630 -2050 5750 -2050 {lab=X}
N 6690 -2050 6810 -2050 {lab=Y}
N 5910 -2350 6100 -2350 {lab=#net2}
N 5910 -1730 6100 -1730 {lab=#net1}
N 6340 -2350 6530 -2350 {lab=#net3}
N 6340 -1730 6530 -1730 {lab=#net4}
N 6160 -1730 6280 -1730 {lab=V_tot}
N 6160 -2350 6280 -2350 {lab=V_tot}
N 5910 -2300 5990 -2300 {lab=VDD}
N 5910 -2460 5990 -2460 {lab=VDD}
N 5910 -2490 5910 -2430 {lab=VDD}
N 5990 -2460 5990 -2300 {lab=VDD}
N 5910 -1620 5990 -1620 {lab=GND}
N 5910 -1780 5990 -1780 {lab=GND}
N 5990 -1780 5990 -1620 {lab=GND}
N 6530 -1860 6530 -1810 {lab=VDD}
N 6530 -1650 6530 -1590 {lab=GND}
N 6530 -1750 6530 -1710 {lab=#net4}
N 6530 -2270 6530 -2220 {lab=GND}
N 6530 -2380 6530 -2330 {lab=#net3}
N 6450 -2300 6530 -2300 {lab=VDD}
N 6450 -2460 6530 -2460 {lab=VDD}
N 6530 -2490 6530 -2430 {lab=VDD}
N 6450 -2460 6450 -2300 {lab=VDD}
N 6450 -1620 6530 -1620 {lab=GND}
N 6450 -1780 6530 -1780 {lab=GND}
N 6450 -1780 6450 -1620 {lab=GND}
N 6220 -2350 6220 -1730 {lab=V_tot}
N 5370 -1360 5370 -1290 {lab=VDD}
N 5130 -1360 5370 -1360 {lab=VDD}
N 5130 -1360 5130 -1290 {lab=VDD}
N 5250 -1410 5250 -1360 {lab=VDD}
N 5370 -1230 5370 -1110 {lab=err_opamp_mir}
N 5130 -1230 5130 -1110 {lab=err_opamp_out}
N 5370 -1050 5370 -1000 {lab=V_err_p}
N 5130 -1000 5370 -1000 {lab=V_err_p}
N 5130 -1050 5130 -1000 {lab=V_err_p}
N 5250 -1000 5250 -950 {lab=V_err_p}
N 5270 -1180 5370 -1180 {lab=err_opamp_mir}
N 5270 -1260 5270 -1180 {lab=err_opamp_mir}
N 6220 -1730 6220 -1080 {lab=V_tot}
N 3070 -990 3220 -990 {lab=GND}
N 3070 -910 3220 -910 {lab=GND}
N 3220 -960 3220 -910 {lab=GND}
N 3220 -1130 3220 -1020 {lab=V_p}
N 5240 -2980 5240 -2880 {lab=V_ref}
N 4410 -1400 4410 -1350 {lab=VDD}
N 3500 -1250 3500 -1150 {lab=Vin+}
N 5250 -920 5290 -920 {lab=GND}
N 5290 -920 5290 -870 {lab=GND}
N 5250 -870 5290 -870 {lab=GND}
N 5250 -890 5250 -840 {lab=GND}
N 5130 -1080 5370 -1080 {lab=GND}
N 5290 -1080 5290 -920 {lab=GND}
N 5410 -1080 6220 -1080 {lab=V_tot}
N 5170 -1260 5330 -1260 {lab=err_opamp_mir}
N 5370 -1310 5410 -1310 {lab=VDD}
N 5410 -1310 5410 -1260 {lab=VDD}
N 5370 -1260 5410 -1260 {lab=VDD}
N 5090 -1310 5130 -1310 {lab=VDD}
N 5090 -1310 5090 -1260 {lab=VDD}
N 5090 -1260 5130 -1260 {lab=VDD}
N 4980 -1170 5130 -1170 {lab=err_opamp_out}
N 4980 -1170 4980 -630 {lab=err_opamp_out}
N 5060 -1080 5090 -1080 {lab=V_ref}
N 4530 -1050 4530 -1000 {lab=V_err_mir_p}
N 4290 -1000 4530 -1000 {lab=V_err_mir_p}
N 4290 -1050 4290 -1000 {lab=V_err_mir_p}
N 4290 -1080 4530 -1080 {lab=GND}
N 4570 -1080 4640 -1080 {lab=V_ref}
N 4180 -1080 4250 -1080 {lab=V_tot}
N 4410 -1000 4410 -950 {lab=V_err_mir_p}
N 4370 -920 4410 -920 {lab=GND}
N 4370 -920 4370 -870 {lab=GND}
N 4370 -870 4410 -870 {lab=GND}
N 4410 -890 4410 -840 {lab=GND}
N 4370 -1080 4370 -920 {lab=GND}
N 4450 -920 5210 -920 {lab=V_gate}
N 4290 -1190 4290 -1110 {lab=V_gate}
N 4290 -1190 4530 -1190 {lab=V_gate}
N 4530 -1190 4530 -1110 {lab=V_gate}
N 4410 -1290 4410 -1190 {lab=V_gate}
N 4410 -1240 4780 -1240 {lab=V_gate}
N 4780 -1240 4780 -920 {lab=V_gate}
N 4560 -630 4980 -630 {lab=err_opamp_out}
N 3260 -990 3570 -990 {lab=err_opamp_out}
N 3570 -990 3570 -630 {lab=err_opamp_out}
N 3570 -630 4560 -630 {lab=err_opamp_out}
C {simulator_commands_shown.sym} 750 -1320 0 0 {name=COMMANDS
simulator=ngspice
only_toplevel=false 
value="
.option method=gear
.option wnflag=1
.option savecurrents

.save
+@m.xm1.msky130_fd_pr__nfet_01v8[gm]
+@m.xm1.msky130_fd_pr__nfet_01v8[vth]
+@m.xm2.msky130_fd_pr__nfet_01v8[gm]
+@m.xm2.msky130_fd_pr__nfet_01v8[vth]
+@m.xm3.msky130_fd_pr__nfet_01v8[gm]
+@m.xm3.msky130_fd_pr__nfet_01v8[vth]
+@m.xm4.msky130_fd_pr__nfet_01v8[gm]
+@m.xm4.msky130_fd_pr__nfet_01v8[vth]
+@m.xm5.msky130_fd_pr__pfet_01v8[gm]
+@m.xm5.msky130_fd_pr__pfet_01v8[vth]
+@m.xm6.msky130_fd_pr__pfet_01v8[gm]
+@m.xm6.msky130_fd_pr__pfet_01v8[vth]
+@m.xm7.msky130_fd_pr__pfet_01v8[gm]
+@m.xm7.msky130_fd_pr__pfet_01v8[vth]
+@m.xm8.msky130_fd_pr__pfet_01v8[gm]
+@m.xm8.msky130_fd_pr__pfet_01v8[vth]
+@m.xm9.msky130_fd_pr__nfet_01v8[gm]
+@m.xm9.msky130_fd_pr__nfet_01v8[vth]
+@m.xm10.msky130_fd_pr__nfet_01v8[gm]
+@m.xm10.msky130_fd_pr__nfet_01v8[vth]
+@m.xm11.msky130_fd_pr__nfet_01v8[gm]
+@m.xm11.msky130_fd_pr__nfet_01v8[vth]
+@m.xm12.msky130_fd_pr__nfet_01v8[gm]
+@m.xm12.msky130_fd_pr__nfet_01v8[vth]
+@m.xm13.msky130_fd_pr__nfet_01v8[gm]
+@m.xm13.msky130_fd_pr__nfet_01v8[vth]
+@m.xm14.msky130_fd_pr__nfet_01v8[gm]
+@m.xm14.msky130_fd_pr__nfet_01v8[vth]
+@m.xm15.msky130_fd_pr__pfet_01v8[gm]
+@m.xm15.msky130_fd_pr__pfet_01v8[vth]
+@m.xm16.msky130_fd_pr__pfet_01v8[gm]
+@m.xm16.msky130_fd_pr__pfet_01v8[vth]
+@m.xm17.msky130_fd_pr__pfet_01v8[gm]
+@m.xm17.msky130_fd_pr__pfet_01v8[vth]
+@m.xm18.msky130_fd_pr__pfet_01v8[gm]
+@m.xm18.msky130_fd_pr__pfet_01v8[vth]
+@m.xm19.msky130_fd_pr__nfet_01v8[gm]
+@m.xm19.msky130_fd_pr__nfet_01v8[vth]
+@m.xm20.msky130_fd_pr__pfet_01v8[gm]
+@m.xm20.msky130_fd_pr__pfet_01v8[vth]
+@m.xm21.msky130_fd_pr__nfet_01v8[gm]
+@m.xm21.msky130_fd_pr__nfet_01v8[vth]
+@m.xm22.msky130_fd_pr__pfet_01v8[gm]
+@m.xm22.msky130_fd_pr__pfet_01v8[vth]
+@m.xm23.msky130_fd_pr__pfet_01v8[gm]
+@m.xm23.msky130_fd_pr__pfet_01v8[vth]
+@m.xm24.msky130_fd_pr__pfet_01v8[gm]
+@m.xm24.msky130_fd_pr__pfet_01v8[vth]
+@m.xm25.msky130_fd_pr__nfet_01v8[gm]
+@m.xm25.msky130_fd_pr__nfet_01v8[vth]
+@m.xm26.msky130_fd_pr__nfet_01v8[gm]
+@m.xm26.msky130_fd_pr__nfet_01v8[vth]
+@m.xm27.msky130_fd_pr__nfet_01v8[gm]
+@m.xm27.msky130_fd_pr__nfet_01v8[vth]
+@m.xm28.msky130_fd_pr__nfet_01v8[gm]
+@m.xm28.msky130_fd_pr__nfet_01v8[vth]
+@m.xm29.msky130_fd_pr__nfet_01v8[gm]
+@m.xm29.msky130_fd_pr__nfet_01v8[vth]
+@m.xm30.msky130_fd_pr__nfet_01v8[gm]
+@m.xm30.msky130_fd_pr__nfet_01v8[vth]
+@m.xm31.msky130_fd_pr__nfet_01v8[gm]
+@m.xm31.msky130_fd_pr__nfet_01v8[vth]
+@m.xm32.msky130_fd_pr__nfet_01v8[gm]
+@m.xm32.msky130_fd_pr__nfet_01v8[vth]
+@m.xm33.msky130_fd_pr__nfet_01v8[gm]
+@m.xm33.msky130_fd_pr__nfet_01v8[vth]
+@m.xm34.msky130_fd_pr__pfet_01v8[gm]
+@m.xm34.msky130_fd_pr__pfet_01v8[vth]
+@m.xm35.msky130_fd_pr__pfet_01v8[gm]
+@m.xm35.msky130_fd_pr__pfet_01v8[vth]


.control

  save all
  * dc VDD 0 1.8 0.9
  * ac dec 20 1 1T
  tran 0.4u 4m
  remzerovec
  write tb_opamp_1st_stage_2.raw
  set appendwrite

.endc

"}
C {sky130_fd_pr/corner.sym} 1010 -1870 0 0 {name=CORNER only_toplevel=false corner=tt}
C {devices/vsource.sym} 1070 -1620 0 0 {name=VDD value=1.8 savecurrent=false
"pwl(0 0 1us 0 2us 1.8)"}
C {devices/gnd.sym} 1070 -1590 0 0 {name=l3 lab=GND}
C {devices/vdd.sym} 1070 -1650 0 0 {name=l1 lab=VDD}
C {devices/ngspice_get_value.sym} 2970 -1590 0 0 {name=r1 node=v(@m.xm14.msky130_fd_pr__nfet_01v8[vth])
descr="vth="}
C {devices/ngspice_get_value.sym} 2980 -1440 0 0 {name=r2 node=v(@m.xm13.msky130_fd_pr__nfet_01v8[vth])
descr="vth="}
C {sky130_fd_pr/nfet_01v8.sym} 2600 -1250 0 0 {name=M1
W=23
L=0.15
nf=10 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 3390 -1250 0 1 {name=M2
W=23
L=0.15
nf=10 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 2640 -1860 0 1 {name=M3
W=30
L=0.3
nf=10 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 3350 -1860 0 0 {name=M4
W=30
L=0.3
nf=10 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 2640 -2220 0 1 {name=M5
W=94
L=0.2
nf=10
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3350 -2220 0 0 {name=M6
W=94
L=0.2
nf=10
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 2640 -2640 0 1 {name=M7
W=94
L=0.2
nf=10
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3350 -2640 0 0 {name=M8
W=94
L=0.2
nf=10
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 2800 -2850 0 0 {name=l2 lab=VDD}
C {lab_wire.sym} 2790 -2640 0 0 {name=p1 sig_type=std_logic lab=Vb3}
C {lab_wire.sym} 2790 -2220 0 0 {name=p5 sig_type=std_logic lab=Vb2}
C {lab_wire.sym} 2830 -1860 0 0 {name=p6 sig_type=std_logic lab=Vb1}
C {sky130_fd_pr/nfet_01v8.sym} 2900 -990 0 0 {name=M9
W=41.4
L=0.15
nf=8
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 2920 -870 0 1 {name=l5 lab=GND}
C {devices/vsource.sym} 3500 -1120 0 0 {name=V1 value="sin(1.14 0.001 1k)" savecurrent=false
* "1.14 AC 1"}
C {devices/gnd.sym} 2400 -1090 0 0 {name=l6 lab=GND}
C {lab_wire.sym} 3500 -1250 0 1 {name=p8 sig_type=std_logic lab=Vin+}
C {lab_wire.sym} 2920 -1130 0 0 {name=p10 sig_type=std_logic lab=V_p}
C {sky130_fd_pr/nfet_01v8.sym} 1640 -990 0 1 {name=M10
W=4.6
L=0.15
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 1620 -870 0 0 {name=l9 lab=GND}
C {lab_wire.sym} 2620 -990 0 0 {name=p11 sig_type=std_logic lab=VGS9}
C {isource.sym} 1620 -1630 0 0 {name=I0 value=100u}
C {vdd.sym} 1620 -1720 0 0 {name=l10 lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} 1440 -1250 0 0 {name=M11
W=2.3
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1810 -1250 0 1 {name=M12
W=2.3
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 2900 -1400 0 0 {name=M13
W=1
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 2900 -1540 0 0 {name=M14
W=4.0
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {isource.sym} 2920 -2460 0 0 {name=I1 value=20u}
C {lab_pin.sym} 2920 -1470 0 1 {name=p9 sig_type=std_logic lab=VS14}
C {lab_pin.sym} 2620 -1510 0 1 {name=p13 sig_type=std_logic lab=VD1}
C {lab_pin.sym} 2620 -2050 0 0 {name=p14 sig_type=std_logic lab=X}
C {lab_wire.sym} 1620 -1130 0 1 {name=p15 sig_type=std_logic lab=V_p_mir}
C {sky130_fd_pr/pfet_01v8.sym} 950 -2480 0 1 {name=M15
W=8.7
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1730 -2480 0 1 {name=M16
W=8.7
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 950 -2690 0 1 {name=M17
W=1.55
L=0.3
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1730 -2690 0 1 {name=M18
W=8.8
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 1130 -2900 0 0 {name=l7 lab=VDD}
C {lab_pin.sym} 1830 -2690 0 1 {name=p16 sig_type=std_logic lab=Vb3}
C {lab_pin.sym} 1050 -2480 0 1 {name=p17 sig_type=std_logic lab=Vb2}
C {lab_pin.sym} 1910 -2480 0 1 {name=p18 sig_type=std_logic lab=Vb2}
C {isource.sym} 930 -2300 0 0 {name=I2 value=50u}
C {gnd.sym} 930 -2270 0 1 {name=l11 lab=GND}
C {isource.sym} 1710 -2300 0 0 {name=I3 value=50u}
C {gnd.sym} 1710 -2270 0 1 {name=l12 lab=GND}
C {lab_pin.sym} 930 -2610 0 1 {name=p19 sig_type=std_logic lab=V1}
C {lab_pin.sym} 1710 -2610 0 1 {name=p20 sig_type=std_logic lab=V2}
C {devices/ngspice_get_value.sym} 820 -2690 0 1 {name=r5 node=v(@m.xm17.msky130_fd_pr__pfet_01v8[vth])
descr="vth="}
C {devices/ngspice_get_value.sym} 820 -2520 0 1 {name=r6 node=v(@m.xm15.msky130_fd_pr__pfet_01v8[vth])
descr="vth="}
C {devices/ngspice_get_value.sym} 1600 -2680 0 1 {name=r3 node=v(@m.xm18.msky130_fd_pr__pfet_01v8[vth])
descr="vth="}
C {devices/ngspice_get_value.sym} 1600 -2510 0 1 {name=r4 node=v(@m.xm16.msky130_fd_pr__pfet_01v8[vth])
descr="vth="}
C {lab_pin.sym} 2620 -2470 0 1 {name=p2 sig_type=std_logic lab=VD7}
C {devices/ngspice_get_value.sym} 2570 -2150 0 1 {name=r7 node=v(@m.xm5.msky130_fd_pr__pfet_01v8[vth])
descr="vth="}
C {lab_pin.sym} 3370 -2050 0 1 {name=p3 sig_type=std_logic lab=Y}
C {sky130_fd_pr/nfet_01v8.sym} 5890 -1780 0 0 {name=M19
W=4.6
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 5890 -2300 0 0 {name=M20
W=4.6
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {isource.sym} 5910 -1680 0 0 {name=I4 value=20u}
C {vdd.sym} 5910 -1860 0 0 {name=l4 lab=VDD}
C {devices/gnd.sym} 5910 -1590 0 0 {name=l8 lab=GND}
C {isource.sym} 5910 -2400 0 0 {name=I5 value=20u}
C {vdd.sym} 5910 -2490 0 0 {name=l13 lab=VDD}
C {devices/gnd.sym} 5910 -2220 0 0 {name=l14 lab=GND}
C {lab_pin.sym} 5630 -2050 0 0 {name=p21 sig_type=std_logic lab=X}
C {lab_pin.sym} 6810 -2050 0 1 {name=p22 sig_type=std_logic lab=Y}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 6130 -2350 1 0 {name=R8
L=3.5
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {devices/gnd.sym} 6130 -2370 2 1 {name=l19 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 6130 -1730 1 1 {name=R9
L=3.5
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {devices/gnd.sym} 6130 -1710 0 0 {name=l20 lab=GND}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 6310 -2350 3 1 {name=R10
L=3.5
model=res_xhigh_po_0p35
spiceprefix=X
mult=1
}
C {devices/gnd.sym} 6310 -2370 2 0 {name=l21 lab=GND
}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 6310 -1730 3 0 {name=R11
L=3.5
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {devices/gnd.sym} 6310 -1710 0 1 {name=l22 lab=GND}
C {lab_wire.sym} 6220 -2050 0 0 {name=p23 sig_type=std_logic lab=V_tot}
C {sky130_fd_pr/nfet_01v8.sym} 6550 -1780 0 1 {name=M21
W=4.6
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 6550 -2300 0 1 {name=M22
W=4.6
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {isource.sym} 6530 -1680 0 1 {name=I6 value=20u}
C {vdd.sym} 6530 -1860 0 1 {name=l15 lab=VDD}
C {devices/gnd.sym} 6530 -1590 0 1 {name=l16 lab=GND}
C {isource.sym} 6530 -2400 0 1 {name=I7 value=20u}
C {vdd.sym} 6530 -2490 0 1 {name=l17 lab=VDD}
C {devices/gnd.sym} 6530 -2220 0 1 {name=l18 lab=GND}
C {sky130_fd_pr/pfet_01v8.sym} 5350 -1260 0 0 {name=M23
W=2
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 5150 -1260 0 1 {name=M24
W=2
L=0.2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {isource.sym} 4410 -1320 0 0 {name=I8 value=20u}
C {vdd.sym} 5250 -1410 0 0 {name=l23 lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} 5390 -1080 0 1 {name=M25
W=2
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 5110 -1080 0 0 {name=M26
W=2
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 5250 -840 0 0 {name=l24 lab=GND}
C {lab_pin.sym} 5060 -1080 0 0 {name=p24 sig_type=std_logic lab=V_ref}
C {sky130_fd_pr/nfet_01v8.sym} 3240 -990 0 1 {name=M27
W=4.6
L=0.15
nf=2 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 5370 -1180 0 1 {name=p26 sig_type=std_logic lab=err_opamp_mir}
C {devices/vsource.sym} 5240 -2850 0 0 {name=VDD1 value=0.90 savecurrent=false
}
C {devices/gnd.sym} 5240 -2820 0 0 {name=l25 lab=GND}
C {lab_pin.sym} 5240 -2980 0 0 {name=p28 sig_type=std_logic lab=V_ref}
C {lab_wire.sym} 5490 -1080 0 1 {name=p27 sig_type=std_logic lab=V_tot}
C {lab_wire.sym} 5250 -1000 0 0 {name=p29 sig_type=std_logic lab=V_err_p}
C {devices/ngspice_get_value.sym} 3360 -1020 0 1 {name=r12 node=v(@m.xm27.msky130_fd_pr__nfet_01v8[vth])
descr="vth="}
C {devices/ngspice_get_value.sym} 2570 -1210 2 0 {name=r13 node=v(@m.xm1.msky130_fd_pr__nfet_01v8[vth])
descr="vth="}
C {vdd.sym} 4410 -1400 0 1 {name=l26 lab=VDD}
C {lab_pin.sym} 4640 -1080 0 1 {name=p30 sig_type=std_logic lab=V_ref}
C {lab_wire.sym} 4180 -1080 0 0 {name=p31 sig_type=std_logic lab=V_tot}
C {lab_wire.sym} 4430 -1000 0 1 {name=p32 sig_type=std_logic lab=V_err_mir_p}
C {devices/ngspice_get_value.sym} 1710 -1010 0 0 {name=r14 node=v(@m.xm10.msky130_fd_pr__nfet_01v8[vth])
descr="vth="}
C {devices/ngspice_get_value.sym} 1860 -1180 2 1 {name=r15 node=v(@m.xm12.msky130_fd_pr__nfet_01v8[vth])
descr="vth="}
C {lab_wire.sym} 4860 -920 0 1 {name=p33 sig_type=std_logic lab=V_gate}
C {lab_pin.sym} 3370 -1510 0 0 {name=p34 sig_type=std_logic lab=VD2}
C {lab_pin.sym} 3370 -2470 0 0 {name=p35 sig_type=std_logic lab=VD6}
C {lab_wire.sym} 4980 -800 2 1 {name=p36 sig_type=std_logic lab=err_opamp_out}
C {devices/gnd.sym} 3500 -1090 0 0 {name=l32 lab=GND}
C {lab_wire.sym} 2400 -1250 0 0 {name=p42 sig_type=std_logic lab=Vin-}
C {devices/vsource.sym} 2400 -1120 0 0 {name=V2 value="sin(1.14 -0.001 1k)" savecurrent=false
* 1.14 
* "1.14 AC -1"}
C {lab_wire.sym} 1350 -1250 0 0 {name=p4 sig_type=std_logic lab=Vin-}
C {lab_wire.sym} 1900 -1250 0 1 {name=p7 sig_type=std_logic lab=Vin+}
C {lab_wire.sym} 3280 -2220 0 0 {name=p12 sig_type=std_logic lab=Vb2}
C {sky130_fd_pr/nfet_01v8.sym} 5230 -920 0 0 {name=M28
W=4
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 4550 -1080 0 1 {name=M29
W=2
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 4270 -1080 0 0 {name=M30
W=2
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/gnd.sym} 4410 -840 0 1 {name=l27 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 4430 -920 0 1 {name=M31
W=4
L=0.2
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 3570 -990 2 0 {name=p37 sig_type=std_logic lab=err_opamp_out}
