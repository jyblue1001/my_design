v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
B 2 3570 -2040 4560 -1170 {flags=graph
y1=-0.00061
y2=0.94
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=5e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node=v_err_amp_ref
color=7
dataset=-1
unitx=1
logx=0
logy=0
}
B 2 4760 -2040 5750 -1170 {flags=graph
y1=-0.00061
y2=0.94
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=5e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node=v_err_amp_ref
color=7
dataset=-1
unitx=1
logx=0
logy=0
}
N 2730 -2620 2730 -2420 {lab=GND}
N 2730 -3470 2730 -3310 {
lab=VDD}
N 2730 -3280 2770 -3280 {lab=VDD}
N 2770 -3350 2770 -3280 {lab=VDD}
N 2730 -3350 2770 -3350 {lab=VDD}
N 2730 -3160 2830 -3160 {lab=V_err_amp_ref}
N 2730 -3250 2730 -2680 {lab=V_err_amp_ref}
N 3480 -3140 3520 -3140 {lab=VDD}
N 3520 -3210 3520 -3140 {lab=VDD}
N 3480 -3210 3520 -3210 {lab=VDD}
N 3290 -3140 3440 -3140 {lab=PFET_GATE_10uA}
N 3110 -3120 3160 -3120 {lab=V_CUR_REF_REG}
N 3110 -3120 3110 -2860 {lab=V_CUR_REF_REG}
N 3110 -2860 3480 -2860 {lab=V_CUR_REF_REG}
N 3480 -3110 3480 -2680 {lab=V_CUR_REF_REG}
N 2830 -3160 3160 -3160 {lab=V_err_amp_ref}
N 2730 -3470 3480 -3470 {lab=VDD}
N 3480 -3470 3480 -3170 {lab=VDD}
N 2730 -2420 3480 -2420 {lab=GND}
N 3480 -2620 3480 -2420 {lab=GND}
N 3380 -3140 3380 -3040 {lab=PFET_GATE_10uA}
N 3380 -3040 3870 -3040 {lab=PFET_GATE_10uA}
N 2460 -3350 2460 -3280 {lab=V_TOP}
N 2460 -3470 2460 -3410 {lab=VDD}
N 2320 -3470 2730 -3470 {lab=VDD}
N 1530 -2420 1910 -2420 {
lab=GND}
N 1490 -2500 1490 -2420 {
lab=GND}
N 1870 -2500 1870 -2420 {
lab=GND}
N 1490 -2420 1530 -2420 {
lab=GND}
N 1570 -3360 1710 -3360 {
lab=V_TOP}
N 1710 -3360 1870 -3360 {
lab=V_TOP}
N 1530 -3470 1530 -3390 {
lab=VDD}
N 1530 -3470 1910 -3470 {
lab=VDD}
N 1910 -3470 1910 -3390 {
lab=VDD}
N 1910 -2620 1910 -2530 {lab=Vbe2}
N 2170 -2620 2170 -2420 {lab=GND}
N 1290 -2620 1290 -2420 {lab=GND}
N 1910 -3360 1950 -3360 {lab=VDD}
N 1950 -3430 1950 -3360 {lab=VDD}
N 1910 -3430 1950 -3430 {lab=VDD}
N 1490 -3360 1530 -3360 {lab=VDD}
N 1490 -3430 1490 -3360 {lab=VDD}
N 1490 -3430 1530 -3430 {lab=VDD}
N 1290 -2420 1490 -2420 {lab=GND}
N 1910 -2470 1910 -2420 {lab=GND}
N 1530 -2470 1530 -2420 {lab=GND}
N 770 -3360 770 -3280 {lab=V_TOP}
N 520 -3220 520 -3090 {lab=START_UP}
N 520 -3470 520 -3390 {
lab=VDD}
N 480 -3360 520 -3360 {lab=VDD}
N 480 -3430 480 -3360 {lab=VDD}
N 480 -3430 520 -3430 {lab=VDD}
N 520 -3330 520 -3220 {lab=START_UP}
N 520 -3470 1530 -3470 {lab=VDD}
N 770 -3360 1330 -3360 {lab=V_TOP}
N 1330 -3360 1330 -3310 {lab=V_TOP}
N 1330 -3310 1650 -3310 {lab=V_TOP}
N 520 -3250 730 -3250 {lab=START_UP}
N 520 -2420 1290 -2420 {lab=GND}
N 1650 -3360 1650 -3310 {lab=V_TOP}
N 770 -3050 1530 -3050 {lab=bgr_Vin-}
N 480 -3060 480 -2990 {lab=GND}
N 480 -3060 520 -3060 {lab=GND}
N 520 -2500 520 -2420 {lab=GND}
N 770 -3250 810 -3250 {lab=VDD}
N 520 -2680 520 -2500 {lab=GND}
N 560 -3360 770 -3360 {lab=V_TOP}
N 520 -3120 580 -3120 {lab=START_UP}
N 580 -3120 580 -3060 {lab=START_UP}
N 560 -3060 580 -3060 {lab=START_UP}
N 770 -3220 770 -3050 {lab=bgr_Vin-}
N 1290 -2830 1290 -2680 {lab=bgr_Vin-}
N 2170 -2830 2170 -2680 {lab=bgr_Vin+}
N 1720 -2420 1720 -2350 {lab=GND}
N 1230 -2650 1270 -2650 {lab=GND}
N 1850 -2650 1890 -2650 {lab=GND}
N 2190 -2650 2230 -2650 {lab=GND}
N 1630 -3020 1650 -3020 {lab=GND}
N 1770 -3020 1790 -3020 {lab=VDD}
N 810 -3470 810 -3250 {lab=VDD}
N 1730 -2960 1730 -2830 {lab=bgr_Vin+}
N 1690 -2960 1690 -2830 {lab=bgr_Vin-}
N 1730 -2830 2170 -2830 {lab=bgr_Vin+}
N 1290 -2830 1690 -2830 {lab=bgr_Vin-}
N 1710 -3360 1710 -3090 {lab=V_TOP}
N 1910 -2830 1910 -2680 {lab=bgr_Vin+}
N 1910 -3330 1910 -2830 {lab=bgr_Vin+}
N 1530 -2830 1530 -2530 {lab=bgr_Vin-}
N 1530 -3330 1530 -2830 {lab=bgr_Vin-}
N 480 -2640 520 -2640 {lab=GND}
N 480 -2710 480 -2640 {lab=GND}
N 480 -2710 520 -2710 {lab=GND}
N 520 -2770 580 -2770 {lab=START_UP_NFET1}
N 580 -2770 580 -2710 {lab=START_UP_NFET1}
N 560 -2710 580 -2710 {lab=START_UP_NFET1}
N 520 -3030 520 -2740 {lab=START_UP_NFET1}
N 1910 -2420 2170 -2420 {lab=GND}
N 2170 -2420 2730 -2420 {lab=GND}
N 1910 -3470 2320 -3470 {lab=VDD}
N 1810 -3280 2690 -3280 {lab=V_TOP}
N 1810 -3360 1810 -3280 {lab=V_TOP}
N 2750 -2650 2790 -2650 {lab=GND}
N 3420 -2650 3460 -2650 {lab=GND}
N 3110 -3300 3110 -3160 {lab=V_err_amp_ref}
N 3110 -3300 7580 -3300 {lab=V_err_amp_ref}
N 1720 -3540 1720 -3470 {lab=VDD}
N 4190 -3140 4230 -3140 {lab=VDD}
N 4230 -3210 4230 -3140 {lab=VDD}
N 4190 -3210 4230 -3210 {lab=VDD}
N 4190 -2540 4190 -2420 {lab=GND}
N 4140 -2510 4190 -2510 {lab=GND}
N 4140 -2570 4140 -2510 {lab=GND}
N 4140 -2570 4190 -2570 {lab=GND}
N 4260 -2640 4260 -2570 {lab=NFET_GATE_10uA}
N 4190 -2640 4260 -2640 {lab=NFET_GATE_10uA}
N 4230 -2570 4720 -2570 {lab=NFET_GATE_10uA}
N 4190 -3110 4190 -2600 {lab=NFET_GATE_10uA}
N 3480 -2420 4190 -2420 {lab=GND}
N 3480 -3470 4190 -3470 {lab=VDD}
N 4190 -3470 4190 -3170 {lab=VDD}
N 3870 -3140 4150 -3140 {lab=PFET_GATE_10uA}
N 3870 -3140 3870 -3040 {lab=PFET_GATE_10uA}
N 4910 -2540 4910 -2420 {lab=GND}
N 4910 -2510 4960 -2510 {lab=GND}
N 4960 -2570 4960 -2510 {lab=GND}
N 4910 -2570 4960 -2570 {lab=GND}
N 4910 -2770 4910 -2600 {lab=Vb2}
N 4800 -2570 4870 -2570 {lab=NFET_GATE_10uA}
N 5510 -2540 5510 -2420 {lab=GND}
N 5510 -2510 5560 -2510 {lab=GND}
N 5560 -2570 5560 -2510 {lab=GND}
N 5510 -2570 5560 -2570 {lab=GND}
N 5510 -2770 5510 -2600 {lab=Vb3}
N 5400 -2570 5470 -2570 {lab=NFET_GATE_10uA}
N 4720 -2570 4800 -2570 {lab=NFET_GATE_10uA}
N 4190 -2420 4910 -2420 {lab=GND}
N 4910 -2420 5510 -2420 {lab=GND}
N 4760 -2650 4760 -2570 {lab=NFET_GATE_10uA}
N 5400 -2650 5400 -2570 {lab=NFET_GATE_10uA}
N 4910 -3140 4960 -3140 {lab=VDD}
N 4960 -3200 4960 -3140 {lab=VDD}
N 4910 -3200 4960 -3200 {lab=VDD}
N 4740 -3140 4870 -3140 {lab=PFET_GATE_10uA}
N 4910 -3470 4910 -3170 {lab=VDD}
N 4190 -3470 4910 -3470 {lab=VDD}
N 4090 -3140 4090 -3040 {lab=PFET_GATE_10uA}
N 4090 -3040 4740 -3040 {lab=PFET_GATE_10uA}
N 4740 -3140 4740 -3040 {lab=PFET_GATE_10uA}
N 4910 -3110 4910 -2920 {lab=Vb1}
N 6130 -2510 6180 -2510 {lab=GND}
N 6180 -2570 6180 -2510 {lab=GND}
N 6130 -2570 6180 -2570 {lab=GND}
N 6020 -2570 6090 -2570 {lab=NFET_GATE_10uA}
N 6020 -2650 6020 -2570 {lab=NFET_GATE_10uA}
N 6130 -2770 6130 -2600 {lab=V_err_gate}
N 6130 -2540 6130 -2420 {lab=GND}
N 6550 -2510 6600 -2510 {lab=GND}
N 6600 -2570 6600 -2510 {lab=GND}
N 6550 -2570 6600 -2570 {lab=GND}
N 6440 -2570 6510 -2570 {lab=NFET_GATE_10uA}
N 6440 -2650 6440 -2570 {lab=NFET_GATE_10uA}
N 6550 -2770 6550 -2600 {lab=V_CMFB_S2}
N 6550 -2540 6550 -2420 {lab=GND}
N 6130 -3140 6180 -3140 {lab=VDD}
N 6180 -3200 6180 -3140 {lab=VDD}
N 6130 -3200 6180 -3200 {lab=VDD}
N 5960 -3140 6090 -3140 {lab=PFET_GATE_10uA}
N 6130 -3470 6130 -3170 {lab=VDD}
N 5960 -3140 5960 -3040 {lab=PFET_GATE_10uA}
N 6130 -3110 6130 -2920 {lab=V_tail_gate}
N 4740 -3040 5340 -3040 {lab=PFET_GATE_10uA}
N 4910 -3470 5510 -3470 {lab=VDD}
N 4760 -2650 5400 -2650 {lab=NFET_GATE_10uA}
N 4350 -3140 4390 -3140 {lab=VDD}
N 4350 -3210 4350 -3140 {lab=VDD}
N 4350 -3210 4390 -3210 {lab=VDD}
N 4390 -3470 4390 -3170 {lab=VDD}
N 4390 -3210 4470 -3210 {lab=VDD}
N 4470 -3210 4470 -3140 {lab=VDD}
N 4430 -3140 4470 -3140 {lab=VDD}
N 4390 -3110 4390 -3080 {lab=NFET_GATE_10uA}
N 4190 -3080 4390 -3080 {lab=NFET_GATE_10uA}
N 4010 -2540 4010 -2420 {lab=GND}
N 4010 -2510 4060 -2510 {lab=GND}
N 4060 -2570 4060 -2510 {lab=GND}
N 4010 -2570 4060 -2570 {lab=GND}
N 3930 -2570 3970 -2570 {lab=GND}
N 3930 -2510 4010 -2510 {lab=GND}
N 3930 -2570 3930 -2510 {lab=GND}
N 4010 -2640 4190 -2640 {lab=NFET_GATE_10uA}
N 4010 -2640 4010 -2600 {lab=NFET_GATE_10uA}
N 3640 -3140 3680 -3140 {lab=VDD}
N 3640 -3210 3640 -3140 {lab=VDD}
N 3640 -3210 3680 -3210 {lab=VDD}
N 3680 -3470 3680 -3170 {lab=VDD}
N 3680 -3210 3760 -3210 {lab=VDD}
N 3760 -3210 3760 -3140 {lab=VDD}
N 3720 -3140 3760 -3140 {lab=VDD}
N 3680 -3110 3680 -3080 {lab=V_CUR_REF_REG}
N 3480 -3080 3680 -3080 {lab=V_CUR_REF_REG}
N 5690 -2540 5690 -2420 {lab=GND}
N 5640 -2510 5690 -2510 {lab=GND}
N 5640 -2570 5640 -2510 {lab=GND}
N 5640 -2570 5690 -2570 {lab=GND}
N 5730 -2570 5770 -2570 {lab=GND}
N 5690 -2510 5770 -2510 {lab=GND}
N 5770 -2570 5770 -2510 {lab=GND}
N 5510 -2690 5690 -2690 {lab=Vb3}
N 5690 -2690 5690 -2600 {lab=Vb3}
N 5510 -2420 5690 -2420 {lab=GND}
N 6130 -2420 6550 -2420 {lab=GND}
N 6550 -3140 6600 -3140 {lab=VDD}
N 6600 -3200 6600 -3140 {lab=VDD}
N 6550 -3200 6600 -3200 {lab=VDD}
N 6380 -3140 6510 -3140 {lab=PFET_GATE_10uA}
N 6550 -3470 6550 -3170 {lab=VDD}
N 6380 -3140 6380 -3040 {lab=PFET_GATE_10uA}
N 6550 -3110 6550 -2920 {lab=V_CMFB_S1}
N 5340 -3040 6380 -3040 {lab=PFET_GATE_10uA}
N 5510 -3470 6550 -3470 {lab=VDD}
N 480 -2990 480 -2710 {lab=GND}
N 2960 -3470 2960 -3310 {
lab=VDD}
N 2960 -3280 3000 -3280 {lab=VDD}
N 3000 -3350 3000 -3280 {lab=VDD}
N 2960 -3350 3000 -3350 {lab=VDD}
N 2870 -3280 2920 -3280 {lab=VDD}
N 2870 -3350 2870 -3280 {lab=VDD}
N 2870 -3350 2960 -3350 {lab=VDD}
N 2730 -3210 2960 -3210 {lab=V_err_amp_ref}
N 7120 -2510 7170 -2510 {lab=GND}
N 7170 -2570 7170 -2510 {lab=GND}
N 7120 -2570 7170 -2570 {lab=GND}
N 7120 -2540 7120 -2420 {lab=GND}
N 6550 -2420 7120 -2420 {lab=GND}
N 7120 -2770 7120 -2600 {lab=V_CMFB_S4}
N 7000 -2650 7000 -2570 {lab=NFET_GATE_10uA}
N 7000 -2570 7080 -2570 {lab=NFET_GATE_10uA}
N 7120 -3140 7170 -3140 {lab=VDD}
N 7170 -3200 7170 -3140 {lab=VDD}
N 7120 -3200 7170 -3200 {lab=VDD}
N 6950 -3140 7080 -3140 {lab=PFET_GATE_10uA}
N 7120 -3470 7120 -3170 {lab=VDD}
N 6950 -3140 6950 -3040 {lab=PFET_GATE_10uA}
N 7120 -3110 7120 -2920 {lab=V_CMFB_S3}
N 5400 -2650 6020 -2650 {lab=NFET_GATE_10uA}
N 6020 -2650 6440 -2650 {lab=NFET_GATE_10uA}
N 6440 -2650 7000 -2650 {lab=NFET_GATE_10uA}
N 6730 -2540 6730 -2420 {lab=GND}
N 6680 -2510 6730 -2510 {lab=GND}
N 6680 -2570 6680 -2510 {lab=GND}
N 6680 -2570 6730 -2570 {lab=GND}
N 6770 -2570 6810 -2570 {lab=GND}
N 6730 -2510 6810 -2510 {lab=GND}
N 6810 -2570 6810 -2510 {lab=GND}
N 6550 -2690 6730 -2690 {lab=V_CMFB_S2}
N 6730 -2690 6730 -2600 {lab=V_CMFB_S2}
N 7300 -2540 7300 -2420 {lab=GND}
N 7250 -2510 7300 -2510 {lab=GND}
N 7250 -2570 7250 -2510 {lab=GND}
N 7250 -2570 7300 -2570 {lab=GND}
N 7340 -2570 7380 -2570 {lab=GND}
N 7300 -2510 7380 -2510 {lab=GND}
N 7380 -2570 7380 -2510 {lab=GND}
N 7120 -2690 7300 -2690 {lab=V_CMFB_S4}
N 7300 -2690 7300 -2600 {lab=V_CMFB_S4}
N 7120 -2420 7300 -2420 {lab=GND}
N 5090 -2540 5090 -2420 {lab=GND}
N 5040 -2510 5090 -2510 {lab=GND}
N 5040 -2570 5040 -2510 {lab=GND}
N 5040 -2570 5090 -2570 {lab=GND}
N 5130 -2570 5170 -2570 {lab=GND}
N 5090 -2510 5170 -2510 {lab=GND}
N 5170 -2570 5170 -2510 {lab=GND}
N 4910 -2690 5090 -2690 {lab=Vb2}
N 5090 -2690 5090 -2600 {lab=Vb2}
N 6710 -3140 6750 -3140 {lab=VDD}
N 6710 -3210 6710 -3140 {lab=VDD}
N 6710 -3210 6750 -3210 {lab=VDD}
N 6750 -3470 6750 -3170 {lab=VDD}
N 6750 -3210 6830 -3210 {lab=VDD}
N 6830 -3210 6830 -3140 {lab=VDD}
N 6790 -3140 6830 -3140 {lab=VDD}
N 6750 -3110 6750 -3080 {lab=V_CMFB_S1}
N 6550 -3080 6750 -3080 {lab=V_CMFB_S1}
N 7280 -3140 7320 -3140 {lab=VDD}
N 7280 -3210 7280 -3140 {lab=VDD}
N 7280 -3210 7320 -3210 {lab=VDD}
N 7320 -3470 7320 -3170 {lab=VDD}
N 7320 -3210 7400 -3210 {lab=VDD}
N 7400 -3210 7400 -3140 {lab=VDD}
N 7360 -3140 7400 -3140 {lab=VDD}
N 7320 -3110 7320 -3080 {lab=V_CMFB_S3}
N 7120 -3080 7320 -3080 {lab=V_CMFB_S3}
N 7120 -3470 7320 -3470 {lab=VDD}
N 5070 -3140 5110 -3140 {lab=VDD}
N 5070 -3210 5070 -3140 {lab=VDD}
N 5070 -3210 5110 -3210 {lab=VDD}
N 5110 -3470 5110 -3170 {lab=VDD}
N 5110 -3210 5190 -3210 {lab=VDD}
N 5190 -3210 5190 -3140 {lab=VDD}
N 5150 -3140 5190 -3140 {lab=VDD}
N 5110 -3110 5110 -3080 {lab=Vb1}
N 4910 -3080 5110 -3080 {lab=Vb1}
N 5690 -2420 6130 -2420 {lab=GND}
N 2960 -3250 2960 -3210 {lab=V_err_amp_ref}
N 980 -3220 980 -3150 {lab=V_TOP}
N 810 -3250 980 -3250 {lab=VDD}
N 980 -3470 980 -3280 {lab=VDD}
N 1020 -3250 1060 -3250 {lab=VDD}
N 1060 -3330 1060 -3250 {lab=VDD}
N 980 -3330 1060 -3330 {lab=VDD}
N 770 -3310 870 -3310 {lab=V_TOP}
N 870 -3310 870 -3150 {lab=V_TOP}
N 870 -3150 980 -3150 {lab=V_TOP}
N 6550 -3470 7120 -3470 {lab=VDD}
N 6380 -3040 6950 -3040 {lab=PFET_GATE_10uA}
C {devices/vsource.sym} 2050 -1720 0 0 {name=V1 value="pwl(0 0 1us 0 2us 1.8)" savecurrent=false
* 1.8}
C {devices/gnd.sym} 2050 -1690 0 0 {name=l3 lab=GND}
C {devices/vdd.sym} 2050 -1750 0 0 {name=l4 lab=VDD}
C {sky130_fd_pr/corner.sym} 1860 -1770 0 0 {name=CORNER only_toplevel=false corner=tt}
C {simulator_commands_shown.sym} 2370 -2060 0 0 {name=COMMANDS
simulator=ngspice
only_toplevel=false 
value="
* ngspice commands


.option method=gear
.option wnflag=1
.option savecurrents
* .temp =140

.save
+@m.xm1.msky130_fd_pr__pfet_01v8[gm]
+@m.xm1.msky130_fd_pr__pfet_01v8[vth]
+@m.xm1.msky130_fd_pr__pfet_01v8[vgs]
+@m.xm1.msky130_fd_pr__pfet_01v8[vds]
+@m.xm2.msky130_fd_pr__pfet_01v8[gm]
+@m.xm2.msky130_fd_pr__pfet_01v8[vth]
+@m.xm2.msky130_fd_pr__pfet_01v8[vgs]
+@m.xm2.msky130_fd_pr__pfet_01v8[vds]
+@m.xm3.msky130_fd_pr__pfet_01v8[gm]
+@m.xm4.msky130_fd_pr__pfet_01v8[gm]
+@m.xm4.msky130_fd_pr__pfet_01v8[vth]
+@m.xm5.msky130_fd_pr__nfet_01v8[gm]
+@m.xm5.msky130_fd_pr__nfet_01v8[vth]
+@m.xm6.msky130_fd_pr__pfet_01v8[gm]
+@m.xm6.msky130_fd_pr__pfet_01v8[vth]
+@m.xm7.msky130_fd_pr__nfet_01v8[gm]
+@m.xm7.msky130_fd_pr__nfet_01v8[vth]
+@m.xm8.msky130_fd_pr__nfet_01v8[gm]
+@m.xm8.msky130_fd_pr__nfet_01v8[vth]
+@m.xm9.msky130_fd_pr__nfet_01v8[gm]
+@m.xm9.msky130_fd_pr__nfet_01v8[vth]
+@m.x1.xm1.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm2.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm3.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm4.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm5.msky130_fd_pr__pfet_01v8[gm]
+@m.x1.xm6.msky130_fd_pr__nfet_01v8[gm]
+@m.x1.xm7.msky130_fd_pr__pfet_01v8[gm]

* .ic v(vin-) = 0.8
* .ic v(vin+) = 0.8
* .ic v(v_top) = 1.8

.control

    save all
    * dc temp -40 120 5 V1 1.6 2.0 0.05
    * dc V1 1.7 1.9 0.001 temp -40 120 40
    * dc V1 0.0 2.0 0.02 temp -40 120 20
    * dc V1 0 2.0 0.02
    tran 0.4ns 5us
    remzerovec
    write tb_ref_volt_cur_gen_dummy.raw
.endc

"}
C {sky130_fd_pr/pfet_01v8.sym} 2710 -3280 0 0 {name=M45
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2730 -2650 0 1 {name=R4
L=12.7
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 3480 -2650 0 0 {name=R5
L=12
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} 3460 -3140 0 0 {name=M50
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 3480 -2860 0 1 {name=p41 sig_type=std_logic lab=V_CUR_REF_REG}
C {lab_wire.sym} 2560 -3280 2 0 {name=p56 sig_type=std_logic lab=V_TOP}
C {sky130_fd_pr/cap_mim_m3_1.sym} 2460 -3380 2 0 {name=C1 model=cap_mim_m3_1 W=2 L=2 MF=20 spiceprefix=X}
C {devices/lab_pin.sym} 1910 -2570 2 0 {name=p67 sig_type=std_logic lab=Vbe2}
C {sky130_fd_pr/pnp_05v5.sym} 1510 -2500 0 0 {name=Q1
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1890 -2500 0 0 {name=Q2
model=pnp_05v5_W3p40L3p40
m=8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1550 -3360 0 1 {name=M51
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1890 -3360 0 0 {name=M53
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 1810 -2830 2 0 {name=p70 sig_type=std_logic lab=bgr_Vin+}
C {lab_wire.sym} 1620 -2830 2 1 {name=p71 sig_type=std_logic lab=bgr_Vin-}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1910 -2650 0 0 {name=R3
L=2.3
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2170 -2650 0 1 {name=R6
L=18
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1290 -2650 0 0 {name=R7
L=18
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/nfet_01v8.sym} 540 -3060 0 1 {name=M54
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 540 -3360 0 1 {name=M55
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 520 -3250 2 1 {name=p72 sig_type=std_logic lab=START_UP}
C {lab_wire.sym} 770 -3360 0 0 {name=p73 sig_type=std_logic lab=V_TOP}
C {sky130_fd_pr/pfet_01v8.sym} 750 -3250 0 0 {name=M56
W=2
L=0.15
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 540 -2710 0 1 {name=M57
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 520 -2950 2 0 {name=p90 sig_type=std_logic lab=START_UP_NFET1}
C {/foss/designs/my_design/projects/bandgapref/xschem_ngspice/new_files/opamp_bandgap_2.sym} 1710 -3020 1 1 {name=x1}
C {/foss/designs/my_design/projects/bandgapref/xschem_ngspice/new_files/opamp_bandgap_2.sym} 3220 -3140 2 1 {name=x2}
C {sky130_fd_pr/pfet_01v8.sym} 4170 -3140 0 0 {name=M70
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 4210 -2570 0 1 {name=M71
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 4890 -2570 0 0 {name=M72
W=1
L=0.15
nf=1
mult=6
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 5490 -2570 0 0 {name=M73
W=1
L=0.15
nf=1
mult=5
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 4890 -3140 0 0 {name=M74
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 6110 -2570 0 0 {name=M75
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 6530 -2570 0 0 {name=M76
W=1
L=0.15
nf=1
mult=3
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 6110 -3140 0 0 {name=M77
W=1
L=0.15
nf=1
mult=8
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 3870 -3040 2 0 {name=p95 sig_type=std_logic lab=PFET_GATE_10uA}
C {lab_wire.sym} 4760 -2650 0 0 {name=p96 sig_type=std_logic lab=NFET_GATE_10uA}
C {sky130_fd_pr/pfet_01v8.sym} 4410 -3140 0 1 {name=M78
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 3990 -2570 0 0 {name=M79
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3700 -3140 0 1 {name=M80
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 5710 -2570 0 1 {name=M81
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 6530 -3140 0 0 {name=M82
W=1
L=0.15
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 2940 -3280 0 0 {name=M83
W=6
L=0.5
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 7100 -2570 0 0 {name=M84
W=1
L=0.15
nf=1
mult=3
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 7100 -3140 0 0 {name=M85
W=1
L=0.15
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 6750 -2570 0 1 {name=M86
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 7320 -2570 0 1 {name=M87
W=1
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 5110 -2570 0 1 {name=M88
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 6770 -3140 0 1 {name=M89
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 7340 -3140 0 1 {name=M90
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 5130 -3140 0 1 {name=M91
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1000 -3250 0 1 {name=M92
W=2
L=0.15
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 4910 -2920 2 1 {name=p109 sig_type=std_logic lab=Vb1}
C {devices/lab_pin.sym} 4910 -2770 2 1 {name=p64 sig_type=std_logic lab=Vb2}
C {devices/lab_pin.sym} 5510 -2770 2 1 {name=p97 sig_type=std_logic lab=Vb3}
C {devices/lab_pin.sym} 6130 -2920 2 1 {name=p98 sig_type=std_logic lab=V_tail_gate}
C {devices/lab_pin.sym} 6130 -2770 2 1 {name=p99 sig_type=std_logic lab=V_err_gate}
C {devices/lab_pin.sym} 6550 -2770 2 1 {name=p102 sig_type=std_logic lab=V_CMFB_S2}
C {devices/lab_pin.sym} 6550 -2920 2 1 {name=p101 sig_type=std_logic lab=V_CMFB_S1}
C {devices/lab_pin.sym} 7120 -2770 2 1 {name=p103 sig_type=std_logic lab=V_CMFB_S4}
C {devices/lab_pin.sym} 7120 -2920 2 1 {name=p104 sig_type=std_logic lab=V_CMFB_S3}
C {devices/lab_pin.sym} 7580 -3300 2 0 {name=p107 sig_type=std_logic lab=V_err_amp_ref}
C {devices/gnd.sym} 1630 -3020 0 1 {name=l1 lab=GND}
C {devices/vdd.sym} 1790 -3020 0 0 {name=l2 lab=VDD}
C {devices/gnd.sym} 1230 -2650 0 1 {name=l5 lab=GND}
C {devices/gnd.sym} 1720 -2350 0 1 {name=l6 lab=GND}
C {devices/gnd.sym} 1850 -2650 0 1 {name=l7 lab=GND}
C {devices/gnd.sym} 2230 -2650 0 0 {name=l8 lab=GND}
C {devices/gnd.sym} 2790 -2650 0 0 {name=l9 lab=GND}
C {devices/vdd.sym} 1720 -3540 0 0 {name=l10 lab=VDD}
C {devices/gnd.sym} 3420 -2650 0 1 {name=l11 lab=GND}
C {devices/gnd.sym} 3220 -3200 2 1 {name=l12 lab=GND}
C {devices/vdd.sym} 3220 -3080 2 0 {name=l13 lab=VDD}
