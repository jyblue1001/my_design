v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 2580 -490 2580 -290 {lab=GNDA}
N 2580 -1340 2580 -1180 {
lab=VDDA}
N 2580 -1150 2620 -1150 {lab=VDDA}
N 2620 -1220 2620 -1150 {lab=VDDA}
N 2580 -1220 2620 -1220 {lab=VDDA}
N 2580 -1030 2680 -1030 {lab=V1}
N 2580 -1120 2580 -550 {lab=V1}
N 3330 -1010 3370 -1010 {lab=VDDA}
N 3370 -1080 3370 -1010 {lab=VDDA}
N 3330 -1080 3370 -1080 {lab=VDDA}
N 3140 -1010 3290 -1010 {lab=V2}
N 2960 -990 3010 -990 {lab=V_CUR_REF_REG}
N 2960 -990 2960 -730 {lab=V_CUR_REF_REG}
N 2960 -730 3330 -730 {lab=V_CUR_REF_REG}
N 3330 -980 3330 -550 {lab=V_CUR_REF_REG}
N 2680 -1030 3010 -1030 {lab=V1}
N 2580 -1340 3330 -1340 {lab=VDDA}
N 3330 -1340 3330 -1040 {lab=VDDA}
N 2580 -290 3330 -290 {lab=GNDA}
N 3330 -490 3330 -290 {lab=GNDA}
N 3230 -1010 3230 -910 {lab=V2}
N 3230 -910 3720 -910 {lab=V2}
N 2310 -1220 2310 -1150 {lab=V_TOP}
N 2310 -1340 2310 -1280 {lab=VDDA}
N 2170 -1340 2580 -1340 {lab=VDDA}
N 1380 -290 1760 -290 {
lab=GNDA}
N 1340 -370 1340 -290 {
lab=GNDA}
N 1720 -370 1720 -290 {
lab=GNDA}
N 1340 -290 1380 -290 {
lab=GNDA}
N 1420 -1230 1560 -1230 {
lab=V_TOP}
N 1560 -1230 1720 -1230 {
lab=V_TOP}
N 1380 -1340 1380 -1260 {
lab=VDDA}
N 1380 -1340 1760 -1340 {
lab=VDDA}
N 1760 -1340 1760 -1260 {
lab=VDDA}
N 1760 -490 1760 -400 {lab=Vbe2}
N 2020 -490 2020 -290 {lab=GNDA}
N 1140 -490 1140 -290 {lab=GNDA}
N 1760 -1230 1800 -1230 {lab=VDDA}
N 1800 -1300 1800 -1230 {lab=VDDA}
N 1760 -1300 1800 -1300 {lab=VDDA}
N 1340 -1230 1380 -1230 {lab=VDDA}
N 1340 -1300 1340 -1230 {lab=VDDA}
N 1340 -1300 1380 -1300 {lab=VDDA}
N 1140 -290 1340 -290 {lab=GNDA}
N 1760 -340 1760 -290 {lab=GNDA}
N 1380 -340 1380 -290 {lab=GNDA}
N 620 -1230 620 -1150 {lab=V_TOP}
N 370 -1090 370 -960 {lab=START_UP}
N 370 -1340 370 -1260 {
lab=VDDA}
N 330 -1230 370 -1230 {lab=VDDA}
N 330 -1300 330 -1230 {lab=VDDA}
N 330 -1300 370 -1300 {lab=VDDA}
N 370 -1200 370 -1090 {lab=START_UP}
N 370 -1340 1380 -1340 {lab=VDDA}
N 620 -1230 1180 -1230 {lab=V_TOP}
N 1180 -1230 1180 -1180 {lab=V_TOP}
N 1180 -1180 1500 -1180 {lab=V_TOP}
N 370 -1120 580 -1120 {lab=START_UP}
N 370 -290 1140 -290 {lab=GNDA}
N 1500 -1230 1500 -1180 {lab=V_TOP}
N 620 -920 1380 -920 {lab=bgr_Vin-}
N 330 -930 330 -860 {lab=GNDA}
N 330 -930 370 -930 {lab=GNDA}
N 370 -370 370 -290 {lab=GNDA}
N 620 -1120 660 -1120 {lab=VDDA}
N 370 -550 370 -370 {lab=GNDA}
N 410 -1230 620 -1230 {lab=V_TOP}
N 370 -990 430 -990 {lab=START_UP}
N 430 -990 430 -930 {lab=START_UP}
N 410 -930 430 -930 {lab=START_UP}
N 620 -1090 620 -920 {lab=bgr_Vin-}
N 1140 -700 1140 -550 {lab=bgr_Vin-}
N 2020 -700 2020 -550 {lab=bgr_Vin+}
N 1570 -290 1570 -220 {lab=GNDA}
N 1080 -520 1120 -520 {lab=GNDA}
N 1700 -520 1740 -520 {lab=GNDA}
N 2040 -520 2080 -520 {lab=GNDA}
N 1480 -890 1500 -890 {lab=GNDA}
N 1620 -890 1640 -890 {lab=VDDA}
N 660 -1340 660 -1120 {lab=VDDA}
N 1580 -830 1580 -700 {lab=bgr_Vin+}
N 1540 -830 1540 -700 {lab=bgr_Vin-}
N 1580 -700 2020 -700 {lab=bgr_Vin+}
N 1140 -700 1540 -700 {lab=bgr_Vin-}
N 1560 -1230 1560 -960 {lab=V_TOP}
N 1760 -700 1760 -550 {lab=bgr_Vin+}
N 1760 -1200 1760 -700 {lab=bgr_Vin+}
N 1380 -700 1380 -400 {lab=bgr_Vin-}
N 1380 -1200 1380 -700 {lab=bgr_Vin-}
N 330 -510 370 -510 {lab=GNDA}
N 330 -580 330 -510 {lab=GNDA}
N 330 -580 370 -580 {lab=GNDA}
N 370 -640 430 -640 {lab=START_UP_NFET1}
N 430 -640 430 -580 {lab=START_UP_NFET1}
N 410 -580 430 -580 {lab=START_UP_NFET1}
N 370 -900 370 -610 {lab=START_UP_NFET1}
N 1760 -290 2020 -290 {lab=GNDA}
N 2020 -290 2580 -290 {lab=GNDA}
N 1760 -1340 2170 -1340 {lab=VDDA}
N 1660 -1150 2540 -1150 {lab=V_TOP}
N 1660 -1230 1660 -1150 {lab=V_TOP}
N 2600 -520 2640 -520 {lab=GNDA}
N 3270 -520 3310 -520 {lab=GNDA}
N 1570 -1410 1570 -1340 {lab=VDDA}
N 3490 -1010 3530 -1010 {lab=VDDA}
N 3490 -1080 3490 -1010 {lab=VDDA}
N 3490 -1080 3530 -1080 {lab=VDDA}
N 3530 -1340 3530 -1040 {lab=VDDA}
N 3530 -1080 3610 -1080 {lab=VDDA}
N 3610 -1080 3610 -1010 {lab=VDDA}
N 3570 -1010 3610 -1010 {lab=VDDA}
N 3530 -980 3530 -950 {lab=V_CUR_REF_REG}
N 3330 -950 3530 -950 {lab=V_CUR_REF_REG}
N 330 -860 330 -580 {lab=GNDA}
N 2810 -1340 2810 -1180 {
lab=VDDA}
N 2810 -1150 2850 -1150 {lab=VDDA}
N 2850 -1220 2850 -1150 {lab=VDDA}
N 2810 -1220 2850 -1220 {lab=VDDA}
N 2720 -1150 2770 -1150 {lab=VDDA}
N 2720 -1220 2720 -1150 {lab=VDDA}
N 2720 -1220 2810 -1220 {lab=VDDA}
N 2580 -1080 2810 -1080 {lab=V1}
N 2810 -1120 2810 -1080 {lab=V1}
N 830 -1090 830 -1020 {lab=V_TOP}
N 660 -1120 830 -1120 {lab=VDDA}
N 830 -1340 830 -1150 {lab=VDDA}
N 870 -1120 910 -1120 {lab=VDDA}
N 910 -1200 910 -1120 {lab=VDDA}
N 830 -1200 910 -1200 {lab=VDDA}
N 620 -1180 720 -1180 {lab=V_TOP}
N 720 -1180 720 -1020 {lab=V_TOP}
N 720 -1020 830 -1020 {lab=V_TOP}
N 3330 -1340 3530 -1340 {lab=VDDA}
N 3070 -1120 3070 -1070 {lab=GNDA}
N 3070 -950 3070 -900 {lab=VDDA}
N 3760 -1010 3800 -1010 {lab=VDDA}
N 3800 -1080 3800 -1010 {lab=VDDA}
N 3760 -1080 3800 -1080 {lab=VDDA}
N 3760 -1340 3760 -1040 {lab=VDDA}
N 3920 -1010 3960 -1010 {lab=VDDA}
N 3920 -1080 3920 -1010 {lab=VDDA}
N 3920 -1080 3960 -1080 {lab=VDDA}
N 3960 -1340 3960 -1040 {lab=VDDA}
N 3960 -1080 4040 -1080 {lab=VDDA}
N 4040 -1080 4040 -1010 {lab=VDDA}
N 4000 -1010 4040 -1010 {lab=VDDA}
N 3960 -980 3960 -950 {lab=CURRENT_OUTPUT}
N 3760 -950 3960 -950 {lab=CURRENT_OUTPUT}
N 3760 -1340 3960 -1340 {lab=VDDA}
N 3720 -1010 3720 -910 {lab=V2}
N 3760 -980 3760 -720 {lab=CURRENT_OUTPUT}
N 3530 -1340 3760 -1340 {lab=VDDA}
C {sky130_fd_pr/pfet_01v8.sym} 2560 -1150 0 0 {name=M45
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2580 -520 0 1 {name=R4
L=10
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 3330 -520 0 0 {name=R5
L=1
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/pfet_01v8.sym} 3310 -1010 0 0 {name=M50
W=10
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 3330 -730 0 1 {name=p41 sig_type=std_logic lab=V_CUR_REF_REG}
C {lab_wire.sym} 2410 -1150 2 0 {name=p56 sig_type=std_logic lab=V_TOP}
C {sky130_fd_pr/cap_mim_m3_1.sym} 2310 -1250 2 0 {name=C1 model=cap_mim_m3_1 W=2 L=2 MF=20 spiceprefix=X}
C {devices/lab_pin.sym} 1760 -440 2 0 {name=p67 sig_type=std_logic lab=Vbe2}
C {sky130_fd_pr/pnp_05v5.sym} 1360 -370 0 0 {name=Q1
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1740 -370 0 0 {name=Q2
model=pnp_05v5_W3p40L3p40
m=8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1400 -1230 0 1 {name=M51
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1740 -1230 0 0 {name=M53
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 1660 -700 2 0 {name=p70 sig_type=std_logic lab=bgr_Vin+}
C {lab_wire.sym} 1470 -700 2 1 {name=p71 sig_type=std_logic lab=bgr_Vin-}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1760 -520 0 0 {name=R3
L=2.3
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2020 -520 0 1 {name=R6
L=18
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 1140 -520 0 0 {name=R7
L=18
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/nfet_01v8.sym} 390 -930 0 1 {name=M54
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 390 -1230 0 1 {name=M55
W=12
L=0.5
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 370 -1120 2 1 {name=p72 sig_type=std_logic lab=START_UP}
C {lab_wire.sym} 620 -1230 0 0 {name=p73 sig_type=std_logic lab=V_TOP}
C {sky130_fd_pr/pfet_01v8.sym} 600 -1120 0 0 {name=M56
W=2
L=0.15
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 390 -580 0 1 {name=M57
W=1
L=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} 370 -820 2 0 {name=p90 sig_type=std_logic lab=START_UP_NFET1}
C {/foss/designs/my_design/projects/bandgapref/xschem_ngspice/new_files/opamp_bandgap_2.sym} 1560 -890 1 1 {name=x1}
C {/foss/designs/my_design/projects/bandgapref/xschem_ngspice/new_files/opamp_bandgap_2.sym} 3070 -1010 2 1 {name=x2}
C {lab_wire.sym} 3720 -910 2 0 {name=p95 sig_type=std_logic lab=V2}
C {sky130_fd_pr/pfet_01v8.sym} 3550 -1010 0 1 {name=M80
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 2790 -1150 0 0 {name=M83
W=6
L=0.5
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 850 -1120 0 1 {name=M92
W=2
L=0.15
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_wire.sym} 2580 -910 0 0 {name=p1 sig_type=std_logic lab=V1}
C {iopin.sym} 1570 -1410 0 1 {name=p2 lab=VDDA}
C {iopin.sym} 1570 -220 0 1 {name=p3 lab=GNDA}
C {devices/lab_pin.sym} 1640 -890 2 0 {name=p4 sig_type=std_logic lab=VDDA}
C {devices/lab_pin.sym} 1480 -890 2 1 {name=p5 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 1080 -520 2 1 {name=p6 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 1700 -520 2 1 {name=p7 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 2080 -520 2 0 {name=p8 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 3070 -1120 2 0 {name=p9 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 3070 -900 2 0 {name=p10 sig_type=std_logic lab=VDDA}
C {devices/lab_pin.sym} 2640 -520 2 0 {name=p11 sig_type=std_logic lab=GNDA}
C {devices/lab_pin.sym} 3270 -520 2 1 {name=p12 sig_type=std_logic lab=GNDA}
C {sky130_fd_pr/pfet_01v8.sym} 3740 -1010 0 0 {name=M1
W=10
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 3980 -1010 0 1 {name=M2
W=1
L=0.15
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {opin.sym} 3760 -720 0 0 {name=p14 lab=CURRENT_OUTPUT}
